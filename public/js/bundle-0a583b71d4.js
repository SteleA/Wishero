var app=angular.module("Wishero",["ui.router","angular-md5","ngMaterial"]);app.run(["$rootScope","$state","Auth","User",function(e,t,n,a){a.init(),e.$on("$stateChangeSuccess",function(e,n){ga("send","pageview","/"+t.current.name)}),e.$on("$stateChangeStart",function(e,o){a.isInit(function(){(o.authenticate||o.hasRole)&&(a.getUser()||(e.preventDefault(),t.go("main")),"admin"===o.hasRole&&n.userIs().then(function(e){o.hasRole===e.data.role}))})})}]),app.config(["$locationProvider","$httpProvider",function(e,t){e.html5Mode(!0),t.interceptors.push("AuthInterceptor")}]),app.run(["User",function(e){ga("create","UA-71680176-1","auto"),ga("send","pageview")}]);
app.controller("AppCtrl",["$scope","MetaSettings",function(p,t){p.page=t}]);
app.config(["$stateProvider","$urlRouterProvider",function(t,l){l.otherwise("/"),t.state("main",{url:"/",templateUrl:"app/Main/main.html",controller:"MainCtrl"}).state("about",{url:"/about",templateUrl:"app/About/about.html",controller:"AboutCtrl"}).state("privacy",{url:"/privacy",templateUrl:"app/Privacy/privacy.html",controller:"PrivacyCtrl"}).state("token",{url:"/token/:token",controller:"TokenCtrl"}).state("wishlist",{url:"/wishlist/:username/:id",templateUrl:"app/Wishlist/wishlist.html",controller:"WishlistCtrl"}).state("createWishlist",{controller:["$state","Wishlist","User",function(t,l,e){l.createWishlist({name:"New wishlist"}).success(function(l){e.createWishlist(l),t.go("wishlist",{username:e.getUser().username,id:l._id})})}]}).state("login",{url:"/login",templateUrl:"app/Account/Login/login.html",controller:"LoginCtrl"}).state("forgot",{url:"/forgot",templateUrl:"app/Account/Forgot/forgot.html",controller:"ForgotCtrl"}).state("resetPassword",{url:"/resetPassword/:forgotPasswordToken",templateUrl:"app/Account/Forgot/reset.html",controller:"ResetCtrl"}).state("signup",{url:"/signup",templateUrl:"app/Account/Signup/signup.html",controller:"SignupCtrl as signupCtrl"}).state("profile",{url:"/profile",templateUrl:"app/Account/Profile/profile.html",controller:"ProfileCtrl",authenticate:!0}).state("settings",{url:"/settings",templateUrl:"app/Account/Settings/settings.html",controller:"SettingsCtrl",authenticate:!0}).state("admin",{url:"/admin",templateUrl:"app/Account/Admin/admin.html",controller:"AdminCtrl",hasRole:"admin"}).state("user",{url:"/:username",templateUrl:"app/User/public.html",controller:"UserCtrl"})}]);

app.controller("AboutCtrl",["$scope","MetaSettings",function(t,e){e.setTitle("About"),e.setDesc("What is Wishero?")}]);
app.directive("clickToSelect",function(){return{link:function(n,e,t){e.on("click",function(){setTimeout(function(){e[0].setSelectionRange(0,e[0].value.length)},10)})}}});
app.directive("fileread",["upload","Wishlist","$http","User",function(i,e,t,n){return{scope:{fileread:"=",wish:"@",wl:"@"},link:function(t,r,a){function l(i){return i?t.$emit("error",i):(d.wishlistId=u._id,n.updateWishlistItem(d),mixpanel.track("Wishlist item picture uploaded"),void e.updateItem(u,d))}var u,d,p,s=r.parent().find("input");r.bind("click",function(){r.parent().find("input")[0].click()}),s.bind("change",function(e){t.$apply(function(){t.fileread=e.target.files[0],u=JSON.parse(a.wl),d=JSON.parse(a.wish),p=e.target.files[0],i.getSignature(p,function(e,n){return e?t.$emit("error",e):(d.img=n.url,p.name=n.fileName,void i.uploadFile(p,n.signed_request,l))})})})}}}]);
app.directive("pil",function(){return{link:function(n,t){var i;setTimeout(function(){t.parent().addClass("loadingPicture"),i=t.attr("src"),t.css("opacity",0)},10),t.bind("load",function(){setTimeout(function(){t.addClass("animated fadeIn"),t.parent().removeClass("loadingPicture")},300)})}}});
app.directive("uploadPicture",["upload","Auth","$http","imageService","$rootScope",function(e,n,r,t,i){return{scope:{},link:function(n,r,o){for(var a,c,l,u=r.parent().children(),d=0;d<u.length;d++)u[d].dataset.pic&&(l=u[d]);l.addEventListener("click",function(){r[0].click()}),r.bind("change",function(o){a=o.target.files[0];var l=(r.parent().find("img")[0].src,new Image),u=new FileReader;u.readAsDataURL(a),u.onload=function(){var e=this.result;r.parent().find("img")[0].src=e,l.src=e},u.onabort=function(){i.emit("error","The upload was aborted.")},u.onerror=function(){i.emit("error","An error occured while reading the file.")},l.onload=function(){t.resizeStep(l,500,500).then(function(r){for(var t=atob(r.src.split(",")[1]),i=[],o=0;o<t.length;o++)i.push(t.charCodeAt(o));var l=new Blob([new Uint8Array(i)],{type:a.type});l.name=a.name,e.getSignature(l,function(r,t){return r?console.log(r):(c=t.url,a.name=t.fileName,void e.uploadFile(l,t.signed_request,function(e){return e?console.log(e):void n.$emit("fileUploadSuccess",c)}))})})}})}}}]);
app.directive("loading",["$window","User",function(n,i){return{templateUrl:"app/Loading/loading.html",transclude:!0,link:function(n,i,t){}}}]);
app.controller("MainCtrl",["$scope","MetaSettings","$state","LocalStore","User",function(e,t,o,i,s){t.setTitle("Makes wishes come true"),s.isInit(function(){return s.getUser()?o.go("profile"):void o.go("signup")})}]);
app.controller("PrivacyCtrl",["$scope","MetaSettings",function(t,e){e.setTitle("Privacy")}]);
app.factory("analytics",function(){return{identify:function(n){mixpanel.identify(n)},track:function(n,t){mixpanel.track(n,t)},setUser:function(n){mixpanel.people.set(n)}}});
app.factory("Auth",["$http","LocalStore","$rootScope","$state","$q","$timeout","User",function(t,e,n,u,i,r,o){function s(n){return e.setItem("auth-token"),t.post("/api/auth/local",n).success(o.init)}function c(n){return e.setItem("auth-token"),t.post("/api/user",n).success(o.init)}function a(t,e){o.init(t)}function l(t){return o.init({token:t})}function p(){return t.get("/api/user/profile/me")}function f(e){return t.put("/api/user",e).then(function(t){mixpanel.track("Settings changed"),a(t,"setting")})}function g(){r(function(){mixpanel.track("Logout"),e.setItem("auth-token"),n.$emit("webSocket",null),n.$emit("user",null),o.setUser(null),o.setWishlists(null),o.kill()},200).then(function(){u.go("login")})}function h(e){return t.get("/api/user/forgotpassword/"+e)}function k(e){return t.post("/api/user/resetPassword",e)}function m(){return t.get("/api/user")}function d(e){return t["delete"]("/api/user/"+e._id)}return{login:s,signup:c,logout:g,userIs:p,userSettings:f,loginWithToken:l,refresh:a,forgot:h,resetPassword:k,getUsers:m,deleteUser:d}}]);
app.factory("helpers",function(){function t(t,e,r){r=r||1e3,clearTimeout(n),n=setTimeout(function(){return t?e():void 0},r)}function e(){clearTimeout(n)}function r(t){var e=30;t&&(e=t);for(var r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;e>n;n++)r+=a.charAt(Math.floor(Math.random()*a.length));return r}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}var n=0;return{typewatch:t,clearTypewatchTimer:e,makeId:r,capitalizeFirstLetter:a}});
app.factory("AuthInterceptor",["LocalStore","$q","$rootScope",function(e,r,t){"use strict";function o(r){var t=e.getItem("auth-token"),o=r.url.split(".");return t&&-1==o.indexOf("amazonaws")&&(r.headers=r.headers||{},r.headers.Authorization="Bearer "+t),r}return{request:o,responseError:function(o){var a=r.defer();return e.getItem("auth-token")&&t.$emit("error",o.status),a.reject(o),a.promise}}}]);
app.factory("LocalStore",["$window",function(t){function e(t){return JSON.parse(n.getItem(t))}function r(t,e){e?n.setItem(t,JSON.stringify(e)):t&&n.removeItem(t)}var n=t.localStorage;return{setItem:r,getItem:e}}]);
app.factory("MetaSettings",function(){var n="Wishero",t="Loading",e="",i="",r="";return{appName:function(){return n},title:function(){return t+" | "},setTitle:function(n){t=n},desc:function(n){return e},setDesc:function(n){e=n},version:function(){return i},setVersion:function(n){i=n},setSocialUrl:function(n){r=n},getSocialUrl:function(n){return r}}});
app.service("imageService",["$http","$q","$timeout",function(t,a,e){function n(t,a){t.center.x=(a+.5)*t.ratio,t.icenter.x=0|t.center.x;for(var i=0;i<t.dest.height;i++){t.center.y=(i+.5)*t.ratio,t.icenter.y=0|t.center.y;var c,h,d,o;c=h=d=o=0;for(var g,u=0,m=t.icenter.x-t.range2;m<=t.icenter.x+t.range2;m++)if(!(0>m||m>=t.src.width)){var l=1e3*Math.abs(m-t.center.x)|0;t.cacheLanc[l]||(t.cacheLanc[l]={});for(var v=t.icenter.y-t.range2;v<=t.icenter.y+t.range2;v++)if(!(0>v||v>=t.src.height)){var w=1e3*Math.abs(v-t.center.y)|0;void 0===t.cacheLanc[l][w]&&(t.cacheLanc[l][w]=s(Math.sqrt(Math.pow(l*t.rcpRatio,2)+Math.pow(w*t.rcpRatio,2))/1e3));var f=t.cacheLanc[l][w];f>0&&(g=4*(v*t.src.width+m),u+=f,h+=f*t.src.data[g+0],d+=f*t.src.data[g+1],o+=f*t.src.data[g+2],c+=f*t.src.data[g+3])}}g=4*(i*t.dest.width+a),t.dest.data[g+0]=h/u,t.dest.data[g+1]=d/u,t.dest.data[g+2]=o/u,t.dest.data[g+3]=c/u}++a<t.dest.width?a%16===0?e(function(){n(t,a)}):n(t,a):e(function(){r(t)})}function r(t){t.canvas.width=t.dest.width,t.canvas.height=t.dest.height,t.src=t.ctx.getImageData(0,0,t.dest.width,t.dest.height);for(var a,e=0;e<t.dest.width;e++)for(var n=0;n<t.dest.height;n++)a=4*(n*t.dest.width+e),t.src.data[a+0]=t.dest.data[a+0],t.src.data[a+1]=t.dest.data[a+1],t.src.data[a+2]=t.dest.data[a+2],t.src.data[a+3]=t.dest.data[a+3];t.ctx.putImageData(t.src,0,0),i(t)}function i(t){var a=new Image;a.onload=function(){t.resultD.resolve(a)},a.onerror=function(a){t.resultD.reject(a)},a.src=t.canvas.toDataURL(t.type,t.quality)}function c(t){var a=t.getContext("2d");return a.imageSmoothingEnabled=!0,a.mozImageSmoothingEnabled=!0,a.oImageSmoothingEnabled=!0,a.webkitImageSmoothingEnabled=!0,a}function h(t){var a=1/t;return function(e){if(e>t)return 0;if(e*=Math.PI,Math.abs(e)<1e-16)return 1;var n=e*a;return Math.sin(e)*Math.sin(n)/e/n}}var d=3,s=h(d);this.resize=function(t,r,h){var s={};return s.type="image/png",s.quality=1,s.resultD=a.defer(),s.canvas=document.createElement("canvas"),s.ctx=c(s.canvas),s.ctx.imageSmoothingEnabled=!0,s.ctx.mozImageSmoothingEnabled=!0,s.ctx.oImageSmoothingEnabled=!0,s.ctx.webkitImageSmoothingEnabled=!0,t.naturalWidth<=r||t.naturalHeight<=h?(console.log("FAST resizing image",t.naturalWidth,t.naturalHeight,"=>",r,h),s.canvas.width=r,s.canvas.height=h,s.ctx.drawImage(t,0,0,r,h),i(s)):(console.log("SLOW resizing image",t.naturalWidth,t.naturalHeight,"=>",r,h),s.canvas.width=t.naturalWidth,s.canvas.height=t.naturalHeight,s.ctx.drawImage(t,0,0,s.canvas.width,s.canvas.height),s.img=t,s.src=s.ctx.getImageData(0,0,s.canvas.width,s.canvas.height),s.dest={width:r,height:h},s.dest.data=new Array(s.dest.width*s.dest.height*4),s.ratio=t.naturalWidth/r,s.rcpRatio=2/s.ratio,s.range2=Math.ceil(s.ratio*d/2),s.cacheLanc={},s.center={},s.icenter={},e(function(){n(s,0)})),s.resultD.promise},this.resizeStep=function(t,e,n,r){function i(){return g=0|Math.max(g/2,e),u=0|Math.max(u/2,n),d.width=g,d.height=u,s.drawImage(l||t,0,0,g,u),m.src=d.toDataURL(o,r),e>=g||n>=u?h.resolve(m):(l||(l=new Image,l.onload=i),void(l.src=m.src))}r=r||1;var h=a.defer(),d=document.createElement("canvas"),s=c(d),o="image/png",g=t.naturalWidth,u=t.naturalHeight,m=new Image,l=null;return e>=g||n>=u||e>g/2||n>u/2?(d.width=e,d.height=n,s.drawImage(t,0,0,e,n),m.src=d.toDataURL(o,r),h.resolve(m)):i(),h.promise}}]);
app.factory("upload",["$http",function(n){function t(t,u){n.get("api/upload/sign_s3?file_name="+t.name+"&file_type="+t.type).then(function(n){return u(null,n.data)},function(n){return u(n)})}function u(t,u,e){n.put(u,t).then(function(n){return e(null,n.data)},function(n){return e(n)})}return{getSignature:t,uploadFile:u}}]);
app.factory("User",["$q","Wishlist","$timeout","$rootScope","LocalStore","$http","analytics",function(e,i,t,n,r,s,l){function a(){return A}function d(e){A=e}function o(e){return q?e():void t(function(){o(e)},1e3)}function u(n){q=!1;var s=e.defer();return n&&n.token&&r.setItem("auth-token",n.token),n&&n.user&&(A=n.user,l.identify(A._id)),n&&n.wishlists&&(L=n.wishlists,s.resolve(n.wishlists),q=!0),t(function(){r.getItem("auth-token")?i.fetch().then(function(e){function i(){return A&&A.firstName&&A.lastName?A.firstName+" "+A.lastName:A.username}function t(){return A&&"1970-01-01T00:00:00.000Z"===A.birthday?void 0:A.birthday}function n(){return A&&A.facebook?!0:!1}s.resolve(e.data.wishlist),L=e.data.wishlist,A=e.data.user,l.identify(A._id),l.setUser({$email:A.email,$username:A.username,$name:i(),wishes:g().items.length,wishlists:L.length,birthday:t(),friends:A.friends.length,facebook:n(),confirmed:A.confirmed||!1}),q=!0},function(e){q=!0}):(q=!0,s.resolve())},10),e.all([s.promise])}function f(){return L}function m(e){for(var i=0;i<L.length;i++)if(e===L[i]._id)return L[i];return null}function c(e){e=e}function h(e){var t=p(e._id);t=e,mixpanel.track("Wishlist updated"),i.updateWishlist(e)}function p(e){for(var i=0;i<L.length;i++)if(e===L[i]._id)return L[i]}function v(){var e=0,i=0;if(0===L.length)return null;for(var t=0;t<L.length;t++)e<=L[t].items.length&&(e=L[t].items.length,i=L[t]);return i._id}function g(){for(var e={},i=[],t=0;t<L.length;t++)i.push(L[t].items);return i=_.flatten(i),e.items=i,e}function W(){}function k(e,i){for(var t=0;t<e.items.length;t++)if(e.items[t].id==i.id)return!0;return!1}function w(e){var t=p(e.wishlistId);k(t,e)||(t.items.push(e),i.addItem(t,e).success(function(n){mixpanel.people.increment("wishes"),mixpanel.track("Wishlist item added"),n.url&&i.fetchItemData(e).success(function(n){n.img.length>0&&(e.img=n.img[0]),n.name&&(e.name=n.name),n.desc&&(e.desc=n.desc),$(e),i.updateItem(t,e)})}))}function x(e,i,t){for(var n=0;n<e.items.length;n++)if(e.items[n].id==i.id)return t(e.items[n],n,e);return t(null)}function I(e){var t=p(e.wishlistId);x(t,e,function(n,r,s){n&&(s.items.splice(r,1),mixpanel.people.increment("wishes",-1),mixpanel.track("Wishlist item removed"),i.deleteItem(t,e))})}function $(e){var t=p(e.wishlistId);x(t,e,function(n,r,s){n&&(s.items[r]=e,i.updateItem(t,e),mixpanel.track("Wishlist item updated"))})}function F(e){for(var i=0;i<L.length;i++)L[i]._id==e&&(L[i].items=[],n.showSubheader=!1,L.splice(i,1),mixpanel.people.increment("wishlists",-1),mixpanel.track("Wishlist deleted"))}function b(e){for(var i=!1,t=0;t<L.length;t++)L[t]._id==e._id&&(i=!0);i||(mixpanel.people.increment("wishlists"),mixpanel.track("Wishlist created"),L.push(e))}function y(e){return s.get("/api/user/friend/"+e)}function U(e){function i(){s["delete"]("/api/user/friend/"+e._id).then(function(e){n.$emit("error","Friend removed"),mixpanel.people.increment("friends",-1),mixpanel.track("Friend deleted")},function(e){n.$emit("error","Unable to remove friend")})}for(var t=0;t<A.friends.length;t++)e._id===A.friends[t]._id&&(A.friends.splice(t,1),i())}function N(e){for(var i=!1,t=0;t<A.friends.length;t++)e._id===A.friends[t]._id&&(i=!0);i||s.post("/api/user/friend/",{_id:e._id}).then(function(){A.friends.push(e),mixpanel.people.increment("friends"),mixpanel.track("Friend added")},function(e){n.$emit("error",e.data.error)})}function S(e){return mixpanel.track("Friend invited"),s.post("/api/user/invite",{email:e})}var L=[],q=!1,A=null;return{init:u,isInit:o,getWishlists:f,getWishlist:m,setWishlists:c,updateWishlist:h,kill:W,getUser:a,setUser:d,mostWishlistItems:v,addWishListItem:w,removeWishlistItem:I,updateWishlistItem:$,getAllWishes:g,createWishlist:b,deleteWishlist:F,getFriends:y,addFriend:N,deleteFriend:U,inviteFriend:S}}]);
app.factory("Wishlist",["$http","$rootScope",function(t,i){function e(){return t.get("api/wishlist")}function s(i){return t.get("api/wishlist/"+i)}function n(i){return t.post("api/wishlist/",i)}function u(i){return t.put("api/wishlist/"+i._id,i)}function r(i){return t["delete"]("api/wishlist/"+i._id)}function l(i,e){return t.post("api/wishlist/"+i._id,e)}function p(i,e){return t.put("api/wishlist/"+i._id+"/"+e.id,e)}function a(i,e){return t["delete"]("api/wishlist/"+i._id+"/"+e.id)}function h(i){return t.post("api/wishlist/getImages",{url:i.url})}return{fetch:e,getWishlist:s,createWishlist:n,updateWishlist:u,deleteWishlist:r,addItem:l,updateItem:p,deleteItem:a,fetchItemData:h}}]);
app.controller("UserCtrl",["MetaSettings","$scope","$stateParams","$http","$window","User","$rootScope",function(e,t,n,r,s,i,o){function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}e.setTitle(a(n.username)+"'s wishlist"),t.loading=!0,r.get("api/user/public/"+n.username).then(function(e){mixpanel.track("Viewing friend's wishes"),o.$broadcast("pub",e.data),t.pubUser=e.data,t.loading=!1},function(){t.loading=!1,t.pubUser=null,t.$emit("error"," The username could not be found. Check if the url is looking legit."),t.userStatus="User not found."})}]);
app.directive("user",function(){return{templateUrl:"app/User/user.html",scope:{},controller:["$scope","md5","Auth","LocalStore","User","$mdDialog","$http",function(e,t,r,o,c,s,a){e.userAction=r,c.isInit(function(){function r(e,t,r){e.send=function(e){t.hide(e)}}e.user=c.getUser(),e.$watch(function(){return c.getUser()},function(r,o){r!==o&&(e.user=r),e.user&&e.user.facebook&&(e.user.facebook.displayName=e.user.facebook.displayName.split(" "),e.user.facebook.displayName=e.user.facebook.displayName[0],e.user.picture||(e.user.picture="http://graph.facebook.com/"+e.user.facebook.id+"/picture?width=300")),e.user&&!e.user.facebook&&e.user.email&&!e.user.picture&&(e.user.picture="http://www.gravatar.com/avatar/"+t.createHash(e.user.email)+"?s=300")}),e.feedback=function(e){s.show({templateUrl:"app/Directives/feedback/feedback.html",clickOutsideToClose:!0,targetEvent:e,preserveScope:!0,locals:{},controller:r}).then(function(e){a.post("api/user/feedback",e)})},r.$inject=["$scope","$mdDialog","$http"]})}]}});
app.controller("WishlistCtrl",["$scope","MetaSettings","$state","User",function(s,e,t,r){e.setTitle("Wishlist"),e.setSocialUrl(t.params.username),e.setDesc("Check out my wishes at Wishero.co. Create and share your wishlist too."),s.wishlistId=function(){return t.params.id},r.isInit(function(){!r.getUser()&&t.params.username&&t.go("user",{username:t.params.username})})}]);
app.directive("wishlist",function(){return{templateUrl:"app/Wishlist/wishlist.template.html",transclude:!0}});
app.controller("AdminCtrl",["$http","$scope","MetaSettings","Auth",function(e,t,n,s){n.setTitle("Admin"),s.getUsers().then(function(e){t.users=e.data}),t["delete"]=function(e){s.deleteUser(e).then(function(n){for(var s=0;s<t.users.length;s++)t.users[s]._id===e._id&&t.users.splice(s,1)})}}]);
app.controller("ForgotCtrl",["$scope","MetaSettings","Auth","$mdDialog",function(o,t,e,n){t.setTitle("Forgot password"),o.loginFb=function(){window.location.href="/api/auth/facebook"},o.submitForm=function(t){o.error="",o.loading=!0,e.forgot(t.username).then(function(){o.loading=!1,n.show(n.alert().parent(angular.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!0).title("Reset password").content("We have sent you a reset password link to your email. Check your inbox and spam folder.").ariaLabel("Reset passord").ok("Got it!").targetEvent())})["catch"](function(t){o.loading=!1,o.error=t.data})}}]);
app.controller("ResetCtrl",["$scope","MetaSettings","Auth","$stateParams","$mdDialog","$state",function(e,t,s,o,a,r){t.setTitle("Reset password"),e.submitForm=function(t){e.error="",e.loading=!0,s.resetPassword({password:t.password,resetToken:o.forgotPasswordToken}).then(function(t){var s;e.loading=!1,"success"==t.data.message&&(s="Success! Your password has been changed.",r.go("login")),a.show(a.alert().parent(angular.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!0).title("Reset password").content(s).ariaLabel("Reset passord").ok("Got it!").targetEvent())})["catch"](function(t){e.loading=!1,e.error=t.data})}}]);
app.controller("ProfileCtrl",["$scope","MetaSettings","Wishlist","User","Auth",function(e,t,i,s,r){t.setTitle("My profile"),e.$on("fileUploadSuccess",function(t,i){e.user.picture=i,mixpanel.track("Added profile picture"),r.userSettings(e.user)}),s.isInit(function(){e.user=s.getUser(),e.wishes=s.getAllWishes().items.length,e.$watch(function(){return s.getUser()},function(t,i){t!==i&&(e.user=t)})})}]);
app.controller("LoginCtrl",["$scope","MetaSettings","Auth","LocalStore","$state","User",function(e,t,n,o,i,a){t.setTitle("Login"),e.loginFb=function(){window.location.href="/api/auth/facebook"},e.submitForm=function(t){e.error="",e.loading=!0,t.username&&(t.username=t.username.toLowerCase()),n.login(t).then(function(e){a.isInit(function(){mixpanel.track("Login"),i.go("wishlist",{username:a.getUser().username,id:a.mostWishlistItems()})})})["catch"](function(t){e.error=t.data.message,e.loading=!1,e.$emit("error","Login failed: "+t.data.message)})}}]);
app.controller("TokenCtrl",["$scope","User","$stateParams","$state",function(e,t,s,n){t.init({token:s.token}).then(function(){var e=t.mostWishlistItems();return e?(mixpanel.track("Facebook login"),void n.go("wishlist",{username:t.getUser().username,id:e})):n.go("createWishlist")})}]);
app.controller("SettingsCtrl",["$scope","MetaSettings","Auth","LocalStore","$timeout","$state","User",function(e,r,t,s,i,o,a){r.setTitle("Settings"),a.isInit(function(){e.user=a.getUser(),e.form={firstName:e.user.firstName,lastName:e.user.lastName,birthday:new Date(e.user.birthday),username:e.user.username,email:e.user.email}}),e.submitForm=function(){e.error="",e.form.birthday&&e.form.birthday.setHours(2),t.userSettings(e.form).then(function(){e.error="",o.go("profile")},function(r){var t=r.data.errors,s=[];for(var i in t)s.push(t[i].message);e.error=s.join(" & ")})}}]);
app.controller("SignupCtrl",["$scope","MetaSettings","Auth","User","$state",function(r,e,o,n,a){e.setTitle("Signup"),r.loginFb=function(){window.location.href="/api/auth/facebook"},r.submitForm=function(e){r.loading=!0,o.signup(e).then(function(r){n.isInit(function(){mixpanel.track("Signup"),ga("send","event","signup","Signup success"),goog_report_conversion(),a.go("createWishlist")})})["catch"](function(e){r.loading=!1,r.error="",e.data.errors.username&&(r.error=e.data.errors.username.message),e.data.errors.username&&e.data.errors.email&&(r.error=r.error+" & "),e.data.errors.email&&(r.error=r.error+e.data.errors.email.message)})}}]);
app.directive("error",["$rootScope","Auth","$state","$mdToast",function(o,t,r,e){return{link:function(n,i,u){o.$on("error",function(o,n){return 401===n?t.logout():403===n?(o.preventDefault(),r.go("main")):void("string"==typeof n&&e.showSimple(n))})}}}]);
app.controller("HeaderCtrl",["$scope","User","$mdSidenav","Auth",function(t,n,o,e){t.toggleSidenav=function(t){o(t).toggle()},t.$watch(function(){return n.getUser()},function(n,o){n!==o&&(t.user=n)}),t.logout=function(){e.logout()}}]);
app.controller("SidebarCtrl",["$scope","User",function(r,e){}]);
app.directive("sidebar",["User",function(e){return{templateUrl:"app/Commons/Sidebar/sidebar.html",scope:{},link:function(t,n,i){n.parent().addClass("hide"),t.user=e.getUser(),t.$watch(function(){return e.getUser()},function(e,i){e!==i&&(t.user=e,e||n.parent().addClass("hide"),e&&n.parent().removeClass("hide"))})},controller:["$scope","$rootScope","Wishlist","$state","$mdSidenav","$mdDialog","$log","$http","$q","MetaSettings","User","$timeout",function(e,t,n,i,r,s,o,a,d,c,u,l){function f(e,t,n){e.querySearch=function(e){return deferred=d.defer(),n.typewatch(e,function(){u.getFriends(e).success(function(e){deferred.resolve(e)})}),deferred.promise},e.isEmail=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},e.sendInvite=function(n){u.inviteFriend(n).then(function(n){e.$emit("error","Invite has been sent!"),e.searchText="",t.hide(e.item)},function(t){e.$emit("error",t.data)})},e.cleanUser=function(e){return e.firstName||e.lastName?e.username+", "+e.firstName+" "+e.lastName:e.username},e.addFriend=function(){t.hide(e.item)}}e.toggleSidenav=function(e){r(e).toggle()},l(function(){e.wishlists=u.getWishlists(),e.$watch(function(){return u.getWishlists()},function(t,n){t!==n&&(e.wishlists=t)})},10),e.addFriend=function(e){s.show({templateUrl:"app/Friend/addFriend.html",clickOutsideToClose:!0,targetEvent:e,preserveScope:!0,locals:{},controller:f}).then(function(e){e&&u.addFriend(e)})},e.removeFriend=function(e){u.deleteFriend(e)},f.$inject=["$scope","$mdDialog","helpers"]}]}}]);
app.directive("acceptCookies",["LocalStore","$timeout",function(e,t){return{templateUrl:"app/Directives/acceptCookies/acceptCookies.html",scope:{},link:function(c,o,i){t(function(){e.getItem("cookiesAccepted")||(c.acceptCookies=!0)},100),c.accept=function(){e.setItem("cookiesAccepted",!0),o.find("div").addClass("slideOutDown")}}}}]);
app.directive("confirmAccount",["LocalStore","$timeout","User","$http",function(n,t,e,i){return{templateUrl:"app/Directives/confirmAccount/confirmAccount.html",scope:{},link:function(n,t,o){e.isInit(function(){n.user=e.getUser(),n.$watch(function(){return e.getUser()},function(t,e){t!==e&&(n.user=t)})}),n.text="Your account is not confirmed. Click here to send a confirmation email.",n.showBtn=!0,n.accept=function(){i.get("/api/user/confirm/send").then(function(){n.text="Confirmation email has been sent. Check your inbox and spam folder.",n.showBtn=!1,setTimeout(function(){t.find("div").addClass("slideOutDown")},3e3)})}}}}]);
app.directive("feedback",["$mdDialog","$http",function(e,c){return{template:'<span ng-click="feedback($event)" class="feedback">Give feedback</span>',scope:{},controller:["$scope",function(t){function n(e,c,t){e.send=function(e){c.hide(e)}}t.feedback=function(t){e.show({templateUrl:"app/Directives/feedback/feedback.html",clickOutsideToClose:!0,targetEvent:t,preserveScope:!0,locals:{},controller:n}).then(function(e){c.post("api/user/feedback",e)})},n.$inject=["$scope","$mdDialog","$http"]}]}}]);
app.directive("welcome",["$rootScope","$window","LocalStore","$state","$timeout","User",function(e,n,t,o,i,a){return{templateUrl:"app/Directives/welcome/welcome.template.html",scope:{},link:function(e,n,c){function u(){n.children().addClass("fadeOut animated"),i(function(){n.remove()},300)}function d(){p.classList.add("fadeOut"),i(function(){r(p)},300)}function s(){l(v),f.removeClass("ng-hide").addClass("fadeInCover"),i(function(){l(w),g.removeClass("ng-hide").addClass("fadeInDown")},600)}function l(e){e.style.display="block"}function r(e){e.style.display="none"}function m(){-1!=I.indexOf(o.current.name)&&u()}var f=n.find("img"),g=n.find("span"),p=document.getElementById("loading"),v=(document.getElementById("welcome"),document.getElementById("cover")),w=document.getElementById("text"),y=t.getItem("auth-token"),I=["user","forgot","resetPassword","login","signup","wishlist","about","privacy"];e.about=function(){o.go("about"),u()},e.welcome=function(){o.go("signup"),u()},a.isInit(function(){return d(),y?u():(m(),s(),void setTimeout(function(){return"main"===o.current.name?o.go("signup"):void 0},1e3))})}}}]);
app.directive("addItem",["$mdDialog",function(e){return{scope:{},link:function(t,i,m){function n(e,t,i,m,n){e.addItem=function(){if(e.newItem.item&&i.params.id){var a={wishlistId:i.params.id,priority:0,id:m.makeId(5)};is.url(e.newItem.item)?a.url=e.newItem.item:a.name=e.newItem.item,n.addWishListItem(a),t.cancel()}}}i.bind("click",function(t){e.show({templateUrl:"app/Wishlist/addItem/addItem.template.html",clickOutsideToClose:!0,targetEvent:t,controller:n})}),n.$inject=["scope","$mdDialog","$state","helpers","User"]}}}]);
app.directive("editItem",["$mdDialog",function(t){return{scope:{item:"@",wishlist:"@"},link:function(i,e,n){function l(t,i,e,n,l,m,a){t.item=e,t.wishlist=n,t.save=function(){l.updateWishlistItem(t.item),i.hide()},t["delete"]=function(){l.removeWishlistItem(t.item),i.cancel()},t.typewatch=function(){a.typewatch(t.item.url,function(){is.url(t.item.url)&&(t.loading=!0,m.fetchItemData(t.item).then(function(i){i.data.img.length>0&&!t.item.img&&(t.item.img=i.data.img[0]),i.data.name&&!t.item.name&&(t.item.name=i.data.name),t.loading=!1},function(){t.loading=!1}))})}}e.bind("click",function(i){var e=JSON.parse(n.item);e.wishlistId=n.wishlist;var m={_id:n.wishlist};t.show({templateUrl:"app/Wishlist/editItem/editItem.template.html",clickOutsideToClose:!0,targetEvent:i,locals:{item:e,wishlist:m},controller:l})}),l.$inject=["scope","$mdDialog","item","wishlist","User","Wishlist","helpers"]}}}]);
app.directive("wishlistEmptyState",["User","$state","Wishlist","helpers",function(t,i,s,e){return{templateUrl:"app/Wishlist/empty/emptyState.template.html",scope:{},link:function(s,a,l){t.isInit(function(){i.params.id?(s.wishlist=t.getWishlist(i.params.id),null===s.wishlist&&(s.hideEmptyState=!0),s.$watch(function(){return t.getWishlist(i.params.id)},function(t,i){t!==i&&(s.wishlist=t,null===s.wishlist&&(s.hideEmptyState=!0))})):s.hideEmptyState=!0}),s.addItem=function(s){if(s){var a=({_id:i.params.id},{wishlistId:i.params.id,priority:0,id:e.makeId(5)});is.url(s)?a.url=s:a.name=s,t.addWishListItem(a)}}}}}]);
app.directive("wishlistItems",["User","$state","$mdDialog","Wishlist","helpers",function(i,t,s,e,l){return{templateUrl:"app/Wishlist/item/item.template.html",scope:{},link:function(s,e,l){i.isInit(function(){t.params.id&&(s.wishlist=i.getWishlist(t.params.id),s.$watch(function(){return i.getWishlist(t.params.id)},function(i,t){i!==t&&(s.wishlist=i)}))})}}}]);
app.directive("itemGrid",["User","$state","$rootScope","$timeout",function(t,i,s,e){return{templateUrl:"app/Wishlist/itemGrid/itemGrid.template.html",scope:{pub:"@"},link:function(i,s,e){t.isInit(function(){e.show&&e.show.length>20&&(i.showExtras=!0,i.wishlist=t.getWishlist(e.show),i.$watch(function(){return t.getWishlist(e.show)},function(t,s){t!==s&&(i.wishlist=t)})),"all"===e.show&&(i.wishlist=t.getAllWishes(),i.showExtras=!1)}),i.$on("pub",function(t,s){i.showExtras=!1;for(var e=s.wishlists,h=[],o=0;o<e.length;o++)h.push(e[o].items);h=_.flatten(h),i.wishlist={items:h}})}}}]);
app.directive("wishlistMissing",["$state","User",function(i,s){return{templateUrl:"app/Wishlist/missing/missing.template.html",scope:{},link:function(t,l,n){s.isInit(function(){t.wishlist=s.getWishlist(i.params.id),t.$watch(function(){return s.getWishlist(i.params.id)},function(i,s){i!==s&&(t.wishlist=i,null===i&&(t.wishlistStatus="Wishlist deleted"))}),null===t.wishlist&&(t.wishlistStatus="Wishlist not found")})}}}]);
app.directive("wishlistName",["Wishlist","User","$state","helpers",function(i,t,s,n){return{templateUrl:"app/Wishlist/name/wishlistName.html",scope:{},controller:["$scope",function(i){t.isInit(function(){i.wishlist=t.getWishlist(s.params.id),i.$watch(function(){return t.getWishlist(s.params.id)},function(t,s){t!==s&&(i.wishlist=t)})}),i.updateWishlist=function(i){n.clearTypewatchTimer(),t.updateWishlist(i)},i.typewatch=function(){n.typewatch(i.wishlist.name,function(){i.wishlist.name&&t.updateWishlist(i.wishlist)})}}],link:function(i,t,s){t.on("submit",function(){t.find("input").blur()})}}}]);
app.controller("subheaderCtrl",["$scope","User","Wishlist","$state","$timeout","$rootScope",function(e,t,i,s,l,o){t.isInit(function(){"wishlist"==s.current.name&&(o.showSubheader=!0)}),e.deleteWishlist=function(){t.deleteWishlist(s.params.id),i.deleteWishlist({_id:s.params.id})}}]);
app.directive("subHeader",["$timeout","$state","$rootScope","User",function(e,t,i,s){return{templateUrl:"app/Wishlist/subHeader/subheader.template.html",scope:{},link:function(e,n,a){var r=["wishlist"];s.isInit(function(){function n(t){r.indexOf(t)>-1?e.showSubheader=!0:e.showSubheader=!1}i.$on("$stateChangeSuccess",function(e,i){n(t.current.name)}),n(t.current.name),e.wishlist=s.getWishlist(t.params.id),e.$watch(function(){return s.getWishlist(t.params.id)},function(t,i){t!==i&&(e.wishlist=t,null===t&&(e.showSubheader=!1))}),null===e.wishlist&&(e.showSubheader=!1)}),e.deleteWishlist=function(){s.deleteWishlist(t.params.id),Wishlist.deleteWishlist({_id:t.params.id})}}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImhlYWQuY29udHJvbGxlci5qcyIsInJvdXRlci5qcyIsIndlYnNvY2tldHMuanMiLCJBYm91dC9hYm91dC5jb250cm9sbGVyLmpzIiwiRGlyZWN0aXZlcy9jbGlja1RvU2VsZWN0LmRpcmVjdGl2ZS5qcyIsIkRpcmVjdGl2ZXMvZmlsZXJlYWQuZGlyZWN0aXZlLmpzIiwiRGlyZWN0aXZlcy9waWwuZGlyZWN0aXZlLmpzIiwiRGlyZWN0aXZlcy91cGxvYWRQaWN0dXJlLmRpcmVjdGl2ZS5qcyIsIkxvYWRpbmcvbG9hZGluZy5kaXJlY3RpdmUuanMiLCJNYWluL21haW4uY29udHJvbGxlci5qcyIsIlByaXZhY3kvcHJpdmFjeS5jb250cm9sbGVyLmpzIiwiU2VydmljZXMvYW5hbHl0aWNzLmZhY3RvcnkuanMiLCJTZXJ2aWNlcy9hdXRoLmZhY3RvcnkuanMiLCJTZXJ2aWNlcy9oZWxwZXJzLmZhY3RvcnkuanMiLCJTZXJ2aWNlcy9pbnRlcmNlcHRvci5mYWN0b3J5LmpzIiwiU2VydmljZXMvbG9jYWxzdG9yZS5mYWN0b3J5LmpzIiwiU2VydmljZXMvbWV0YVNldHRpbmdzLmZhY3RvcnkuanMiLCJTZXJ2aWNlcy9yZXNpemUuc2VydmljZS5qcyIsIlNlcnZpY2VzL3VwbG9hZC5mYWN0b3J5LmpzIiwiU2VydmljZXMvdXNlci5mYWN0b3J5LmpzIiwiU2VydmljZXMvd2lzaGxpc3QuZmFjdG9yeS5qcyIsIlVzZXIvdXNlci5jb250cm9sbGVyLmpzIiwiVXNlci91c2VyLmRpcmVjdGl2ZS5qcyIsIldpc2hsaXN0L3dpc2hsaXN0LmNvbnRyb2xsZXIuanMiLCJXaXNobGlzdC93aXNobGlzdC5kaXJlY3RpdmUuanMiLCJBY2NvdW50L0FkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJBY2NvdW50L0ZvcmdvdC9mb3Jnb3QuY29udHJvbGxlci5qcyIsIkFjY291bnQvRm9yZ290L3Jlc2V0LmNvbnRyb2xsZXIuanMiLCJBY2NvdW50L1Byb2ZpbGUvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwiQWNjb3VudC9Mb2dpbi9sb2dpbi5jb250cm9sbGVyLmpzIiwiQWNjb3VudC9Mb2dpbi90b2tlbi5jb250cm9sbGVyLmpzIiwiQWNjb3VudC9TZXR0aW5ncy9zZXR0aW5ncy5jb250cm9sbGVyLmpzIiwiQWNjb3VudC9TaWdudXAvc2lnbnVwLmNvbnRyb2xsZXIuanMiLCJDb21tb25zL0Vycm9yL2Vycm9yLmRpcmVjdGl2ZS5qcyIsIkNvbW1vbnMvSGVhZGVyL2hlYWRlci5jb250cm9sbGVyLmpzIiwiQ29tbW9ucy9TaWRlYmFyL3NpZGViYXIuY29udHJvbGxlci5qcyIsIkNvbW1vbnMvU2lkZWJhci9zaWRlYmFyLmRpcmVjdGl2ZS5qcyIsIkRpcmVjdGl2ZXMvYWNjZXB0Q29va2llcy9hY2NlcHRDb29raWVzLmRpcmVjdGl2ZS5qcyIsIkRpcmVjdGl2ZXMvY29uZmlybUFjY291bnQvY29uZmlybUFjY291bnQuZGlyZWN0aXZlLmpzIiwiRGlyZWN0aXZlcy9mZWVkYmFjay9mZWVkYmFjay5kaXJlY3RpdmUuanMiLCJEaXJlY3RpdmVzL3dlbGNvbWUvd2VsY29tZS5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9hZGRJdGVtL2FkZEl0ZW0uZGlyZWN0aXZlLmpzIiwiV2lzaGxpc3QvZWRpdEl0ZW0vZWRpdEl0ZW0uZGlyZWN0aXZlLmpzIiwiV2lzaGxpc3QvZW1wdHkvZW1wdHlTdGF0ZS5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9pdGVtL3dpc2hsaXN0SXRlbS5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9pdGVtR3JpZC9pdGVtR3JpZC5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9taXNzaW5nL3dpc2hsaXN0TWlzc2luZy5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9uYW1lL3dpc2hsaXN0TmFtZS5kaXJlY3RpdmUuanMiLCJXaXNobGlzdC9zdWJIZWFkZXIvc3ViSGVhZGVyLmNvbnRyb2xsZXIuanMiLCJXaXNobGlzdC9zdWJIZWFkZXIvc3ViaGVhZGVyLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkF1dGgiLCJVc2VyIiwiaW5pdCIsIiRvbiIsImV2ZW50IiwibmV4dCIsImdhIiwiY3VycmVudCIsIm5hbWUiLCJpc0luaXQiLCJhdXRoZW50aWNhdGUiLCJoYXNSb2xlIiwiZ2V0VXNlciIsInByZXZlbnREZWZhdWx0IiwiZ28iLCJ1c2VySXMiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwicm9sZSIsImNvbmZpZyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsImh0bWw1TW9kZSIsImludGVyY2VwdG9ycyIsInB1c2giLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiTWV0YVNldHRpbmdzIiwicGFnZSIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsIldpc2hsaXN0IiwiY3JlYXRlV2lzaGxpc3QiLCJzdWNjZXNzIiwicmVzIiwidXNlcm5hbWUiLCJpZCIsIl9pZCIsInNldFRpdGxlIiwic2V0RGVzYyIsImRpcmVjdGl2ZSIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRyIiwib24iLCJzZXRUaW1lb3V0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJ2YWx1ZSIsImxlbmd0aCIsInVwbG9hZCIsIiRodHRwIiwiZmlsZXJlYWQiLCJ3aXNoIiwid2wiLCJhdHRyaWJ1dGVzIiwidXBkYXRlV2lzaGxpc3QiLCJlcnIiLCIkZW1pdCIsIndpc2hsaXN0SWQiLCJ3aXNobGlzdCIsInVwZGF0ZVdpc2hsaXN0SXRlbSIsIm1peHBhbmVsIiwidHJhY2siLCJ1cGRhdGVJdGVtIiwiZmlsZSIsImZpbGVJbnRwdXQiLCJwYXJlbnQiLCJmaW5kIiwiYmluZCIsImNsaWNrIiwiY2hhbmdlRXZlbnQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJmaWxlcyIsIkpTT04iLCJwYXJzZSIsImdldFNpZ25hdHVyZSIsInNpZ25hdHVyZSIsImltZyIsImZpbGVOYW1lIiwidXBsb2FkRmlsZSIsInNpZ25lZF9yZXF1ZXN0IiwicGljIiwiYWRkQ2xhc3MiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImltYWdlU2VydmljZSIsInVzZXJwaWMiLCJ0cmlnZ2VyIiwiZWxlIiwiY2hpbGRyZW4iLCJpIiwiZGF0YXNldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJJbWFnZSIsImZpbGVMb2FkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsInRoaXMiLCJyZXN1bHQiLCJvbmFib3J0IiwiZW1pdCIsIm9uZXJyb3IiLCJyZXNpemVTdGVwIiwicmVzaXplZEltYWdlIiwiYmxvYkJpbiIsImF0b2IiLCJzcGxpdCIsImFycmF5IiwiY2hhckNvZGVBdCIsIm5ld0ZpbGUiLCJCbG9iIiwiVWludDhBcnJheSIsInR5cGUiLCJjb25zb2xlIiwibG9nIiwiJHdpbmRvdyIsInRyYW5zY2x1ZGUiLCJMb2NhbFN0b3JlIiwiZmFjdG9yeSIsImlkZW50aWZ5IiwiYWN0aW9uIiwib3B0aW9ucyIsInNldFVzZXIiLCJwZW9wbGUiLCJzZXQiLCIkcSIsIiR0aW1lb3V0IiwibG9naW4iLCJ1c2VyIiwic2V0SXRlbSIsInBvc3QiLCJzaWdudXAiLCJnZXRVc2VySW5mbyIsImxvZ2luV2l0aFRva2VuIiwidG9rZW4iLCJnZXQiLCJ1c2VyU2V0dGluZ3MiLCJwdXQiLCJsb2dvdXQiLCJzZXRXaXNobGlzdHMiLCJraWxsIiwiZm9yZ290IiwidXNlcm5hbWVPckVtYWlsIiwicmVzZXRQYXNzd29yZCIsInJlc2V0VG9rZW5BbmRQYXNzd29yZCIsImdldFVzZXJzIiwiZGVsZXRlVXNlciIsInJlZnJlc2giLCJ0eXBld2F0Y2giLCJzdHJpbmciLCJjYiIsInRpbWUiLCJjbGVhclRpbWVvdXQiLCJ0eXBld2F0Y2hUaW1lciIsImNsZWFyVHlwZXdhdGNoVGltZXIiLCJtYWtlSWQiLCJsZW5ndGhPZklkIiwidGV4dCIsInBvc3NpYmxlIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImFkZFRva2VuIiwiZ2V0SXRlbSIsImluZGV4T2YiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInJlcXVlc3QiLCJyZXNwb25zZUVycm9yIiwiZGVmZXIiLCJzdGF0dXMiLCJyZWplY3QiLCJwcm9taXNlIiwic3RvcmUiLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwibG9jYWxTdG9yYWdlIiwiYXBwTmFtZSIsInRpdGxlIiwiZGVzYyIsInZlcnNpb24iLCJzb2NpYWxVcmwiLCJuZXdUaXRsZSIsIm5ld0Rlc2MiLCJzZXRWZXJzaW9uIiwibmV3VmVyc2lvbiIsInNldFNvY2lhbFVybCIsImdldFNvY2lhbFVybCIsInNlcnZpY2UiLCJhcHBseUxhbmN6b3NDb2x1bW4iLCJzZWxmIiwidSIsImNlbnRlciIsIngiLCJyYXRpbyIsImljZW50ZXIiLCJ2IiwiZGVzdCIsImhlaWdodCIsInkiLCJhIiwiciIsImciLCJiIiwiaWR4Iiwibm9ybSIsInJhbmdlMiIsIndpZHRoIiwiZlgiLCJhYnMiLCJjYWNoZUxhbmMiLCJqIiwiZlkiLCJ1bmRlZmluZWQiLCJsYW5jem9zIiwic3FydCIsInBvdyIsInJjcFJhdGlvIiwid2VpZ2h0IiwiZmluYWxpemVMYW5jem9zIiwiY2FudmFzIiwiY3R4IiwiZ2V0SW1hZ2VEYXRhIiwicHV0SW1hZ2VEYXRhIiwicmVzb2x2ZUxhbmN6b3MiLCJyZXN1bHREIiwicmVzb2x2ZSIsInRvRGF0YVVSTCIsInF1YWxpdHkiLCJnZXRDb250ZXh0IiwiY29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm9JbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJsYW5jem9zR2VuZXJhdG9yIiwibG9iZXMiLCJyZWNMb2JlcyIsIlBJIiwieHgiLCJzaW4iLCJOVU1fTE9CRVMiLCJyZXNpemUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiZHJhd0ltYWdlIiwiQXJyYXkiLCJjZWlsIiwic3RlcERvd24iLCJjVyIsIm1heCIsImNIIiwidG1wIiwiZHN0IiwiYW5hbHl0aWNzIiwibmV3VXNlciIsImluaXRpYWxpemVkIiwib2JqIiwid2lzaGxpc3REZWZlciIsIndpc2hsaXN0cyIsImZldGNoIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJiaXJ0aGRheSIsImZhY2Vib29rIiwiJGVtYWlsIiwiZW1haWwiLCIkdXNlcm5hbWUiLCIkbmFtZSIsIndpc2hlcyIsImdldEFsbFdpc2hlcyIsIml0ZW1zIiwiZnJpZW5kcyIsImNvbmZpcm1lZCIsImFsbCIsImdldFdpc2hsaXN0cyIsImdldFdpc2hsaXN0IiwibmV3V2lzaGxpc3QiLCJvbGRXaXNobGlzdCIsImZpbmRXaXNobGlzdCIsIm1vc3RXaXNobGlzdEl0ZW1zIiwibW9zdEl0ZW1zIiwiZ290byIsImFyciIsIl8iLCJmbGF0dGVuIiwid2lzaExpc3RJdGVtRXhpc2l0cyIsIml0ZW0iLCJhZGRXaXNoTGlzdEl0ZW0iLCJhZGRJdGVtIiwiaW5jcmVtZW50IiwiZmV0Y2hJdGVtRGF0YSIsImdldFdpc2hsaXN0SXRlbSIsInJlbW92ZVdpc2hsaXN0SXRlbSIsIl9pdGVtIiwiaW5kZXgiLCJfd2lzaGxpc3QiLCJzcGxpY2UiLCJkZWxldGVJdGVtIiwiZGVsZXRlV2lzaGxpc3QiLCJzaG93U3ViaGVhZGVyIiwiZXhpc3RzIiwiZ2V0RnJpZW5kcyIsInF1ZXJ5IiwiZGVsZXRlRnJpZW5kIiwiZnJpZW5kIiwiZGVsIiwiYWRkRnJpZW5kIiwiZXhpc2l0cyIsImVycm9yIiwiaW52aXRlRnJpZW5kIiwiZ2V0V2lzaExpc3RzIiwiJHN0YXRlUGFyYW1zIiwibG9hZGluZyIsIiRicm9hZGNhc3QiLCJwdWJVc2VyIiwidXNlclN0YXR1cyIsIm1kNSIsIiRtZERpYWxvZyIsInVzZXJBY3Rpb24iLCJmZWVkYmFja0N0cmwiLCJzZW5kIiwiZm9ybSIsImhpZGUiLCIkd2F0Y2giLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiZGlzcGxheU5hbWUiLCJwaWN0dXJlIiwiY3JlYXRlSGFzaCIsImZlZWRiYWNrIiwiZXYiLCJzaG93IiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsInRhcmdldEV2ZW50IiwicHJlc2VydmVTY29wZSIsImxvY2FscyIsIiRpbmplY3QiLCJwYXJhbXMiLCJ1c2VycyIsImxvZ2luRmIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzdWJtaXRGb3JtIiwiYWxlcnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImFyaWFMYWJlbCIsIm9rIiwicGFzc3dvcmQiLCJyZXNldFRva2VuIiwiZm9yZ290UGFzc3dvcmRUb2tlbiIsIm1zZyIsIm1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsImdvdG9XaXNobGlzdCIsIkRhdGUiLCJzZXRIb3VycyIsImVycm9yT2JqZWN0IiwiZXJyb3JzIiwiZXJyb3JBcnIiLCJqb2luIiwiZ29vZ19yZXBvcnRfY29udmVyc2lvbiIsIiRtZFRvYXN0Iiwic2hvd1NpbXBsZSIsIiRtZFNpZGVuYXYiLCJ0b2dnbGVTaWRlbmF2IiwibWVudUlkIiwidG9nZ2xlIiwiJGxvZyIsImFkZEZyaWVuZEN0cmwiLCJoZWxwZXJzIiwicXVlcnlTZWFyY2giLCJkZWZlcnJlZCIsImlzRW1haWwiLCJyZSIsInRlc3QiLCJzZW5kSW52aXRlIiwic2VhcmNoVGV4dCIsImNsZWFuVXNlciIsInJlbW92ZUZyaWVuZCIsImFjY2VwdENvb2tpZXMiLCJhY2NlcHQiLCJzaG93QnRuIiwidGVtcGxhdGUiLCJhdHRycyIsInJlbW92ZVdlbGNvbWVTY3JlZW4iLCJyZW1vdmUiLCJyZW1vdmVMb2FkaW5nIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGlkZUVsIiwic2hvd0NvdmVySW1hZ2UiLCJzaG93RWwiLCJjb3ZlciIsImNvdmVySW1nIiwiY292ZXJUZXh0IiwiZWwiLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmVXZWxjb21lSWZTdGF0ZSIsInNraXBTdGF0ZXMiLCJnZXRFbGVtZW50QnlJZCIsImlzTG9nZ2VkSW4iLCJhYm91dCIsIndlbGNvbWUiLCJuZXdJdGVtIiwicHJpb3JpdHkiLCJpcyIsImNhbmNlbCIsImVkaXRJdGVtQ3RybCIsInNhdmUiLCJhdHRyaWJ1dGUiLCJoaWRlRW1wdHlTdGF0ZSIsIm5hbWVPclVybCIsInB1YiIsInNob3dFeHRyYXMiLCJ3aXNobGlzdFN0YXR1cyIsImJsdXIiLCJzaG93U3ViSGVhZGVyT25TdGF0ZXMiLCJzaG93U3ViZWhlYWRlck9yTm90Il0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFPLFdBQ3ZCLFlBQ0EsY0FDQSxjQUlGRixLQUFJRyxLQUFBLGFBQUEsU0FBQSxPQUFBLE9BQUksU0FBU0MsRUFBWUMsRUFBUUMsRUFBTUMsR0FDekNBLEVBQUtDLE9BRUxKLEVBQVdLLElBQUksc0JBQXVCLFNBQVVDLEVBQU9DLEdBQ25EQyxHQUFHLE9BQVEsV0FBWSxJQUFNUCxFQUFPUSxRQUFRQyxRQUloRFYsRUFBV0ssSUFBSSxvQkFBcUIsU0FBVUMsRUFBT0MsR0FJbkRKLEVBQUtRLE9BQU8sWUFFTkosRUFBS0ssY0FBZ0JMLEVBQUtNLFdBRXZCVixFQUFLVyxZQUNSUixFQUFNUyxpQkFDTmQsRUFBT2UsR0FBRyxTQUdTLFVBQWpCVCxFQUFLTSxTQUNQWCxFQUFLZSxTQUNGQyxLQUFLLFNBQWlCQyxHQUNqQlosRUFBS00sVUFBWU0sRUFBU0MsS0FBS0MsZUFXakR6QixJQUFJMEIsUUFBQSxvQkFBQSxnQkFBTyxTQUFVQyxFQUFtQkMsR0FDdENELEVBQWtCRSxXQUFVLEdBQzVCRCxFQUFjRSxhQUFhQyxLQUFLLHNCQUtsQy9CLElBQUlHLEtBQUEsT0FBSSxTQUFTSSxHQUNmSyxHQUFHLFNBQVUsZ0JBQWlCLFFBQzlCQSxHQUFHLE9BQVE7QUNwRGJaLElBQUlnQyxXQUFXLFdBQUEsU0FBQSxl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VmhEL0MsSUFBSW1ELFVBQVUsYUFBQSxXQUFBLFNBQUEsYUFBQSxPQUFhLFNBQVMwRixFQUFVeEksRUFBUUQsRUFBWUcsR0FDaEUsT0FDRWtDLFlBQWEsaURBQ2JZLFNBQ0FELEtBQU0sU0FBU0MsRUFBT0MsRUFBU1ksR0FFN0IsR0FBSXVYLElBQXlCLFdBRTdCbGIsR0FBS1EsT0FBTyxXQVFWLFFBQVMyYSxHQUFvQm5aLEdBQ3hCa1osRUFBc0JsUSxRQUFRaEosR0FBUyxHQUN4Q2MsRUFBTTRRLGVBQWdCLEVBRXRCNVEsRUFBTTRRLGVBQWdCLEVBVjFCN1QsRUFBV0ssSUFBSSxzQkFBdUIsU0FBVUMsRUFBT0MsR0FDbkQrYSxFQUFvQnJiLEVBQU9RLFFBQVFDLFFBR3ZDNGEsRUFBb0JyYixFQUFPUSxRQUFRQyxNQVVuQ3VDLEVBQU1rQixTQUFXaEUsRUFBS2tTLFlBQVlwUyxFQUFPa1csT0FBT3hULElBRWhETSxFQUFNb1MsT0FBTyxXQUFjLE1BQU9sVixHQUFLa1MsWUFBWXBTLEVBQU9rVyxPQUFPeFQsS0FBUSxTQUFVMlMsRUFBVUMsR0FDdkZELElBQWFDLElBQ2Z0UyxFQUFNa0IsU0FBV21SLEVBQ0QsT0FBYkEsSUFBb0JyUyxFQUFNNFEsZUFBZ0IsTUFJM0IsT0FBbkI1USxFQUFNa0IsV0FDUGxCLEVBQU00USxlQUFnQixLQUsxQjVRLEVBQU0yUSxlQUFpQixXQUNyQnpULEVBQUt5VCxlQUFlM1QsRUFBT2tXLE9BQU94VCxJQUNsQ0wsU0FBU3NSLGdCQUFnQmhSLElBQUszQyxFQUFPa1csT0FBT3hUIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdXaXNoZXJvJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2FuZ3VsYXItbWQ1JyxcbiAgJ25nTWF0ZXJpYWwnLFxuICAvLyduZ01lc3NhZ2VzJ1xuXSk7XG5cbmFwcC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgJHN0YXRlLCBBdXRoLCBVc2VyKSB7XG4gIFVzZXIuaW5pdCgpO1xuXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0KSB7XG4gICAgICBnYSgnc2VuZCcsICdwYWdldmlldycsICcvJyArICRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuICB9KTtcblxuXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgbmV4dCkge1xuXG5cblxuICAgIFVzZXIuaXNJbml0KGZ1bmN0aW9uKCl7XG5cbiAgICAgIGlmIChuZXh0LmF1dGhlbnRpY2F0ZSB8fCBuZXh0Lmhhc1JvbGUpIHtcblxuICAgICAgICBpZiAoIVVzZXIuZ2V0VXNlcigpKXtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzdGF0ZS5nbygnbWFpbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHQuaGFzUm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgICAgIEF1dGgudXNlcklzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKG5leHQuaGFzUm9sZSA9PT0gcmVzcG9uc2UuZGF0YS5yb2xlKSByZXR1cm47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG5cblxuICAgIH0pO1xuICB9KTtcblxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpIHtcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3InKTtcbn0pO1xuXG5cbi8vIFJ1bm5pbmcgR29vZ2xlIGFuYWx5dGljc1xuYXBwLnJ1bihmdW5jdGlvbihVc2VyKXtcbiAgZ2EoJ2NyZWF0ZScsICdVQS03MTY4MDE3Ni0xJywgJ2F1dG8nKTtcbiAgZ2EoJ3NlbmQnLCAncGFnZXZpZXcnKTtcbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ0FwcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICBNZXRhU2V0dGluZ3Mpe1xuICAkc2NvcGUucGFnZSA9IE1ldGFTZXR0aW5ncztcblxufSk7XG4iLCJhcHAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcblxuICAkc3RhdGVQcm92aWRlclxuXG4gICAgLnN0YXRlKCdtYWluJywge1xuICAgICAgdXJsOiBcIi9cIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9NYWluL21haW4uaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ01haW5DdHJsJyxcbiAgICB9KVxuXG4gICAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICAgIHVybDogXCIvYWJvdXRcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9BYm91dC9hYm91dC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyOiAnQWJvdXRDdHJsJyxcbiAgICB9KSBcblxuICAgIC5zdGF0ZSgncHJpdmFjeScsIHtcbiAgICAgIHVybDogXCIvcHJpdmFjeVwiLFxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL1ByaXZhY3kvcHJpdmFjeS5odG1sXCIsXG4gICAgICBjb250cm9sbGVyOiAnUHJpdmFjeUN0cmwnLFxuICAgIH0pXG5cblxuXG4gICAgLnN0YXRlKCd0b2tlbicsIHtcbiAgICAgIHVybDogXCIvdG9rZW4vOnRva2VuXCIsXG4gICAgICAvL3RlbXBsYXRlVXJsOiBcImFwcC9NYWluL21haW4uaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ1Rva2VuQ3RybCcsXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnd2lzaGxpc3QnLCB7XG4gICAgICB1cmw6IFwiL3dpc2hsaXN0Lzp1c2VybmFtZS86aWRcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9XaXNobGlzdC93aXNobGlzdC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyOiAnV2lzaGxpc3RDdHJsJyxcbiAgICAgIC8vYXV0aGVudGljYXRlOiB0cnVlLFxuICAgIH0pXG5cblxuICAgIC5zdGF0ZSgnY3JlYXRlV2lzaGxpc3QnLCB7XG4gICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc3RhdGUsIFdpc2hsaXN0LCBVc2VyKXtcblxuICAgICAgICBXaXNobGlzdC5jcmVhdGVXaXNobGlzdCh7bmFtZTogJ05ldyB3aXNobGlzdCd9KVxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICBVc2VyLmNyZWF0ZVdpc2hsaXN0KHJlcyk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3dpc2hsaXN0Jyx7dXNlcm5hbWU6IFVzZXIuZ2V0VXNlcigpLnVzZXJuYW1lLCBpZDogcmVzLl9pZH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICB9LFxuICAgIH0pXG5cblxuXG4gICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgIHVybDogXCIvbG9naW5cIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9BY2NvdW50L0xvZ2luL2xvZ2luLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnZm9yZ290Jywge1xuICAgICAgdXJsOiBcIi9mb3Jnb3RcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9BY2NvdW50L0ZvcmdvdC9mb3Jnb3QuaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ0ZvcmdvdEN0cmwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgncmVzZXRQYXNzd29yZCcsIHtcbiAgICAgIHVybDogXCIvcmVzZXRQYXNzd29yZC86Zm9yZ290UGFzc3dvcmRUb2tlblwiLFxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL0FjY291bnQvRm9yZ290L3Jlc2V0Lmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXI6ICdSZXNldEN0cmwnXG4gICAgfSlcblxuICAgIC5zdGF0ZSgnc2lnbnVwJywge1xuICAgICAgdXJsOiBcIi9zaWdudXBcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9BY2NvdW50L1NpZ251cC9zaWdudXAuaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ1NpZ251cEN0cmwgYXMgc2lnbnVwQ3RybCdcbiAgICB9KVxuXG4gICAgLnN0YXRlKCdwcm9maWxlJywge1xuICAgICAgdXJsOiBcIi9wcm9maWxlXCIsXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvQWNjb3VudC9Qcm9maWxlL3Byb2ZpbGUuaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ1Byb2ZpbGVDdHJsJyxcbiAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcbiAgICB9KVxuXG4gICAgLnN0YXRlKCdzZXR0aW5ncycsIHtcbiAgICAgIHVybDogXCIvc2V0dGluZ3NcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9BY2NvdW50L1NldHRpbmdzL3NldHRpbmdzLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nc0N0cmwnLFxuICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxuICAgIH0pXG5cbiAgICAuc3RhdGUoJ2FkbWluJywge1xuICAgICAgdXJsOiBcIi9hZG1pblwiLFxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL0FjY291bnQvQWRtaW4vYWRtaW4uaHRtbFwiLFxuICAgICAgY29udHJvbGxlcjogJ0FkbWluQ3RybCcsXG4gICAgICBoYXNSb2xlOiAnYWRtaW4nLFxuICAgIH0pXG5cbiAgICAuc3RhdGUoJ3VzZXInLCB7XG4gICAgICB1cmw6IFwiLzp1c2VybmFtZVwiLFxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL1VzZXIvcHVibGljLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ3RybCdcbiAgICB9KTtcblxufSk7XG4iLCIvLyBhcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICR0aW1lb3V0LCAkaHR0cCwgTG9jYWxTdG9yZSwgTWV0YVNldHRpbmdzKXtcbi8vXG4vL1xuLy8gICAkcm9vdFNjb3BlLiRvbignd2ViU29ja2V0JywgZnVuY3Rpb24oZXZlbnQsIGRhdGEsIHVzZXJFdmVudCl7XG4vL1xuLy9cbi8vICAgICBpZih1c2VyRXZlbnQpIHJldHVybjtcbi8vXG4vLyAgICAgaWYoIWRhdGEpIHtcbi8vXG4vLyAgICAgICBpZigkcm9vdFNjb3BlLndzQ29ubmVjdGlvbikge1xuLy8gICAgICAgICAkcm9vdFNjb3BlLndzQ29ubmVjdGlvbi5vbmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbi8vICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNsb3NlZCcpO1xuLy8gICAgICAgICB9O1xuLy8gICAgICAgICAkcm9vdFNjb3BlLndzQ29ubmVjdGlvbi5jbG9zZSgpO1xuLy8gICAgICAgfVxuLy9cbi8vXG4vLyAgICAgICByZXR1cm5cbi8vICAgICB9XG4vL1xuLy8gICAgIChmdW5jdGlvbiBjb25uZWN0KCl7XG4vLyAgICAgJGh0dHAuZ2V0KCcvYXBpL2luZm8nKVxuLy8gICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzKXtcbi8vXG4vLyAgICAgICAgIHZhciBzZXJ2ZXIgPSByZXMud3MgKyAnP3VzZXI9JyArIGRhdGEuX2lkO1xuLy9cbi8vICAgICAgICAgJHJvb3RTY29wZS53c0Nvbm5lY3Rpb24gPSBuZXcgV2ViU29ja2V0KHNlcnZlcik7XG4vLyAgICAgICAgIE1ldGFTZXR0aW5ncy5zZXRWZXJzaW9uKHJlcy52ZXJzaW9uKTtcbi8vICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd2ZXJzaW9uJywgcmVzLnZlcnNpb24pO1xuLy8gICAgICAgICAkcm9vdFNjb3BlLm5hbWUgICAgICAgICA9IHJlcy5uYW1lO1xuLy9cbi8vXG4vL1xuLy8gICAgICAgICAkcm9vdFNjb3BlLndzQ29ubmVjdGlvbi5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0ZWQnKTtcbi8vICAgICAgICAgfTtcbi8vXG4vLyAgICAgICAgICRyb290U2NvcGUud3NDb25uZWN0aW9uLm9uY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY2xvc2VkIHVuZXhwZWN0ZWQuIHJlY29ubmVjdGluZy4uLicpO1xuLy8gICAgICAgICAgICR0aW1lb3V0KGNvbm5lY3QsIDIqMTAwMCk7XG4vLyAgICAgICAgIH07XG4vL1xuLy8gICAgICAgICAkcm9vdFNjb3BlLndzQ29ubmVjdGlvbi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuLy8gICAgICAgICAgIGNvbnNvbGUubG9nKGUuZGF0YSk7XG4vLyAgICAgICAgICAgdmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKGUuZGF0YSk7XG4vLyAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd3czonICsgcGF5bG9hZC50b3BpYywgcGF5bG9hZC5kYXRhKTtcbi8vICAgICAgICAgfTtcbi8vICAgICAgIH0pO1xuLy9cbi8vICAgICB9KSgpO1xuLy9cbi8vICAgfSk7XG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vIH0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ0Fib3V0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgTWV0YVNldHRpbmdzKXtcbk1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnQWJvdXQnKTtcbk1ldGFTZXR0aW5ncy5zZXREZXNjKCdXaGF0IGlzIFdpc2hlcm8/Jyk7XG59KTtcbiIsImFwcC5kaXJlY3RpdmUoJ2NsaWNrVG9TZWxlY3QnLCBmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKXtcbiAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWxlbWVudFswXS5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50WzBdLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZShcImZpbGVyZWFkXCIsIGZ1bmN0aW9uICh1cGxvYWQsIFdpc2hsaXN0LCAkaHR0cCwgVXNlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBmaWxlcmVhZDogXCI9XCIsXG4gICAgICAgICAgICB3aXNoOidAJyxcbiAgICAgICAgICAgIHdsOidAJ1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICAgICAgICAgIHZhciB3aXNobGlzdCwgd2lzaCwgZmlsZTtcblxuICAgICAgICAgIHZhciBmaWxlSW50cHV0ID0gZWxlbWVudC5wYXJlbnQoKS5maW5kKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5maW5kKCdpbnB1dCcpWzBdLmNsaWNrKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZmlsZUludHB1dC5iaW5kKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChjaGFuZ2VFdmVudCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmZpbGVyZWFkICA9IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgd2lzaGxpc3QgICAgPSBKU09OLnBhcnNlKGF0dHJpYnV0ZXMud2wpO1xuICAgICAgICAgICAgICAgICAgICB3aXNoICAgICAgICA9IEpTT04ucGFyc2UoYXR0cmlidXRlcy53aXNoKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZSAgICAgICAgPSBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkLmdldFNpZ25hdHVyZShmaWxlLCBmdW5jdGlvbihlcnIsIHNpZ25hdHVyZSl7XG4gICAgICAgICAgICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gc2NvcGUuJGVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICB3aXNoLmltZyA9IHNpZ25hdHVyZS51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgZmlsZS5uYW1lID0gc2lnbmF0dXJlLmZpbGVOYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgdXBsb2FkLnVwbG9hZEZpbGUoZmlsZSwgc2lnbmF0dXJlLnNpZ25lZF9yZXF1ZXN0LCB1cGRhdGVXaXNobGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVdpc2hsaXN0KGVycil7XG4gICAgICAgICAgICAgIGlmKGVycikgcmV0dXJuIHNjb3BlLiRlbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgIC8vZWxlbWVudC5wYXJlbnQoKS5maW5kKCdpbWcnKVswXS5zcmMgPSB3aXNoLmltZztcbiAgICAgICAgICAgICAgd2lzaC53aXNobGlzdElkID0gd2lzaGxpc3QuX2lkO1xuICAgICAgICAgICAgICBVc2VyLnVwZGF0ZVdpc2hsaXN0SXRlbSh3aXNoKTtcbiAgICAgICAgICAgICAgbWl4cGFuZWwudHJhY2soXCJXaXNobGlzdCBpdGVtIHBpY3R1cmUgdXBsb2FkZWRcIik7XG4gICAgICAgICAgICAgIFdpc2hsaXN0LnVwZGF0ZUl0ZW0od2lzaGxpc3QsIHdpc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgncGlsJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCl7XG5cblxuICAgICAgdmFyIHBpYztcbiAgICAgIHZhciBsb2FkaW5nID0gJzxzcGFuIGNsYXNzPVwibG9hZGluZ1BpY1wiPmxvYWRpbmc8L3NwYW4+JztcblxuXG5cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQucGFyZW50KCkuYWRkQ2xhc3MoJ2xvYWRpbmdQaWN0dXJlJyk7XG4gICAgICAgIHBpYyA9IGVsZW1lbnQuYXR0cignc3JjJyk7XG4gICAgICAgIGVsZW1lbnQuY3NzKCdvcGFjaXR5JywgMCk7XG5cbiAgICAgIH0sIDEwKTtcblxuXG5cblxuXG5cbiAgICAgIGVsZW1lbnQuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpO1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2xvYWRpbmdQaWN0dXJlJyk7XG4gICAgICAgIH0sIDMwMCk7XG5cbiAgICAgIH0pO1xuXG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKFwidXBsb2FkUGljdHVyZVwiLCBmdW5jdGlvbiAodXBsb2FkLCBBdXRoLCAkaHR0cCwgaW1hZ2VTZXJ2aWNlLCAkcm9vdFNjb3BlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICAgICAgICAgIHZhciBmaWxlLCB1c2VycGljO1xuXG5cbiAgICAgICAgICAgIHZhciB0cmlnZ2VyO1xuXG4gICAgICAgICAgICB2YXIgZWxlID0gZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpO1xuXG5cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYoZWxlW2ldLmRhdGFzZXQucGljKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlciA9IGVsZVtpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uY2xpY2soKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIGZpbGUgICAgICAgICAgICA9IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbWcgID0gZWxlbWVudC5wYXJlbnQoKS5maW5kKCdpbWcnKVswXS5zcmM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgICAgICAgICA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhlIGZpbGUgcGF0aFxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUxvYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVMb2FkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAvL3dhaXQgZm9yIGZpbGVMb2FkZXIgdG8gZmlubmlzaFxuICAgICAgICAgICAgICAgICAgICBmaWxlTG9hZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudCgpLmZpbmQoJ2ltZycpWzBdLnNyYyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgZmlsZUxvYWRlci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuZW1pdCgnZXJyb3InLCAnVGhlIHVwbG9hZCB3YXMgYWJvcnRlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBmaWxlTG9hZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmVtaXQoJ2Vycm9yJywgJ0FuIGVycm9yIG9jY3VyZWQgd2hpbGUgcmVhZGluZyB0aGUgZmlsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlU2VydmljZS5yZXNpemVTdGVwKGltZywgNTAwLCA1MDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNpemVkSW1hZ2UpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJlcGFyZSBuZXcgaW1hZ2UgZm9yIHVwbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibG9iQmluID0gYXRvYihyZXNpemVkSW1hZ2Uuc3JjLnNwbGl0KCcsJylbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBibG9iQmluLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goYmxvYkJpbi5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RmlsZSA9IG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShhcnJheSldLCB7dHlwZTogZmlsZS50eXBlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RmlsZS5uYW1lID0gZmlsZS5uYW1lO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQuZ2V0U2lnbmF0dXJlKG5ld0ZpbGUsIGZ1bmN0aW9uKGVyciwgc2lnbmF0dXJlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycikgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VycGljID0gc2lnbmF0dXJlLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUubmFtZSA9IHNpZ25hdHVyZS5maWxlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZC51cGxvYWRGaWxlKG5ld0ZpbGUsIHNpZ25hdHVyZS5zaWduZWRfcmVxdWVzdCwgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ2ZpbGVVcGxvYWRTdWNjZXNzJywgdXNlcnBpYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuXG5cblxuXG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCdsb2FkaW5nJywgZnVuY3Rpb24oJHdpbmRvdywgVXNlcil7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGVVcmw6ICdhcHAvTG9hZGluZy9sb2FkaW5nLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpe31cbiAgfTtcbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhU2V0dGluZ3MsICRzdGF0ZSwgTG9jYWxTdG9yZSwgVXNlcil7XG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnTWFrZXMgd2lzaGVzIGNvbWUgdHJ1ZScpO1xuXG4gIFVzZXIuaXNJbml0KGZ1bmN0aW9uKCl7XG4gICAgaWYoVXNlci5nZXRVc2VyKCkpe1xuICAgICAgcmV0dXJuICRzdGF0ZS5nbygncHJvZmlsZScpO1xuICAgIH1cbiAgICAkc3RhdGUuZ28oJ3NpZ251cCcpO1xuICB9KTtcblxufSk7XG4iLCJhcHAuY29udHJvbGxlcignUHJpdmFjeUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIE1ldGFTZXR0aW5ncyl7XG5NZXRhU2V0dGluZ3Muc2V0VGl0bGUoJ1ByaXZhY3knKTtcblxufSk7XG4iLCJhcHAuZmFjdG9yeSgnYW5hbHl0aWNzJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBpZGVudGlmeTogZnVuY3Rpb24oaWQpe1xuICAgICAgbWl4cGFuZWwuaWRlbnRpZnkoaWQpO1xuICAgIH0sXG4gICAgdHJhY2s6IGZ1bmN0aW9uKGFjdGlvbiwgb3B0aW9ucyl7XG4gICAgICBtaXhwYW5lbC50cmFjayhhY3Rpb24sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc2V0VXNlcjogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICBtaXhwYW5lbC5wZW9wbGUuc2V0KG9wdGlvbnMpO1xuICAgIH1cblxuICB9O1xufSk7XG4iLCJhcHAuZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBMb2NhbFN0b3JlLCAkcm9vdFNjb3BlLCAkc3RhdGUsICRxLCAkdGltZW91dCwgVXNlcil7XG5cbiAgcmV0dXJuIHtcbiAgICBsb2dpbjogbG9naW4sXG4gICAgc2lnbnVwOiBzaWdudXAsXG4gICAgbG9nb3V0OiBsb2dvdXQsXG4gICAgdXNlcklzOiB1c2VySXMsXG4gICAgdXNlclNldHRpbmdzOiB1c2VyU2V0dGluZ3MsXG4gICAgbG9naW5XaXRoVG9rZW46IGxvZ2luV2l0aFRva2VuLFxuICAgIHJlZnJlc2g6IGdldFVzZXJJbmZvLFxuICAgIGZvcmdvdDogZm9yZ290LFxuICAgIHJlc2V0UGFzc3dvcmQ6IHJlc2V0UGFzc3dvcmQsXG4gICAgZ2V0VXNlcnM6IGdldFVzZXJzLFxuICAgIGRlbGV0ZVVzZXI6IGRlbGV0ZVVzZXIsXG4gIH07XG5cbiAgZnVuY3Rpb24gbG9naW4odXNlcikge1xuICAgIC8vY2xlYXJpbmcgb3V0IG9sZCB0b2tlbiBmcm9tIGxvY2Fsc3RvcmVcbiAgICBMb2NhbFN0b3JlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nKTtcblxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGgvbG9jYWwnLCB1c2VyKVxuICAgICAgICAgICAgICAuc3VjY2VzcyhVc2VyLmluaXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2lnbnVwKHVzZXIpe1xuXG4gICAgTG9jYWxTdG9yZS5zZXRJdGVtKCdhdXRoLXRva2VuJyk7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcicsIHVzZXIpXG4gICAgICAgICAgICAgIC5zdWNjZXNzKFVzZXIuaW5pdCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRVc2VySW5mbyh1c2VyLCBldmVudCl7XG4gICAgICAgICAgICBVc2VyLmluaXQodXNlcik7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dpbldpdGhUb2tlbih0b2tlbil7XG4gICAgcmV0dXJuIFVzZXIuaW5pdCh7dG9rZW46IHRva2VufSk7XG4gIH1cblxuICBmdW5jdGlvbiB1c2VySXMoKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXIvcHJvZmlsZS9tZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXNlclNldHRpbmdzKHVzZXIpe1xuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcicsIHVzZXIpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICBtaXhwYW5lbC50cmFjayhcIlNldHRpbmdzIGNoYW5nZWRcIik7XG4gICAgICAgIGdldFVzZXJJbmZvKHJlcywgJ3NldHRpbmcnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nb3V0KCl7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgbWl4cGFuZWwudHJhY2soXCJMb2dvdXRcIik7XG4gICAgICBMb2NhbFN0b3JlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nKTtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJ3dlYlNvY2tldCcsIG51bGwpO1xuICAgICAgJHJvb3RTY29wZS4kZW1pdCgndXNlcicsIG51bGwpO1xuICAgICAgVXNlci5zZXRVc2VyKG51bGwpO1xuICAgICAgVXNlci5zZXRXaXNobGlzdHMobnVsbCk7XG4gICAgICBVc2VyLmtpbGwoKTtcbiAgICB9LCAyMDApXG4gICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XG4gICAgICB9KTtcblxuXG4gIH1cblxuICBmdW5jdGlvbiBmb3Jnb3QodXNlcm5hbWVPckVtYWlsKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXIvZm9yZ290cGFzc3dvcmQvJyArIHVzZXJuYW1lT3JFbWFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFBhc3N3b3JkKHJlc2V0VG9rZW5BbmRQYXNzd29yZCl7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlci9yZXNldFBhc3N3b3JkJywgcmVzZXRUb2tlbkFuZFBhc3N3b3JkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVzZXJzKCl7XG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VyJyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXIpe1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvdXNlci8nICsgdXNlci5faWQpO1xuICB9XG5cblxufSk7XG4iLCJhcHAuZmFjdG9yeSgnaGVscGVycycsIGZ1bmN0aW9uKCl7XG5cbiAgdmFyIHR5cGV3YXRjaFRpbWVyID0gMDtcblxuXG4gIHJldHVybiB7XG4gICAgdHlwZXdhdGNoOiB0eXBld2F0Y2gsXG4gICAgY2xlYXJUeXBld2F0Y2hUaW1lcjogY2xlYXJUeXBld2F0Y2hUaW1lcixcbiAgICBtYWtlSWQ6IG1ha2VJZCxcbiAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXI6IGNhcGl0YWxpemVGaXJzdExldHRlclxuICB9O1xuXG5cbiAgZnVuY3Rpb24gdHlwZXdhdGNoKHN0cmluZywgY2IsIHRpbWUpe1xuICAgIHRpbWUgPSB0aW1lIHx8IDEwMDA7XG5cbiAgICBjbGVhclRpbWVvdXQgKHR5cGV3YXRjaFRpbWVyKTtcblxuICAgIHR5cGV3YXRjaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgaWYoIXN0cmluZykgcmV0dXJuO1xuXG4gICAgICByZXR1cm4gY2IoKTtcblxuICAgIH0sIHRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJUeXBld2F0Y2hUaW1lcigpe1xuICAgIGNsZWFyVGltZW91dCh0eXBld2F0Y2hUaW1lcik7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlSWQobGVuZ3RoKXtcbiAgICAgIHZhciBsZW5ndGhPZklkID0gMzA7XG4gICAgICBpZiAobGVuZ3RoKSBsZW5ndGhPZklkPWxlbmd0aDtcblxuXG4gICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgIGZvciggdmFyIGk9MDsgaSA8IGxlbmd0aE9mSWQ7IGkrKyApXG4gICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG5cbiAgICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbiAgfVxuXG59KTtcbiIsImFwcC5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBmdW5jdGlvbiBBdXRoSW50ZXJjZXB0b3IoTG9jYWxTdG9yZSwgJHEsICRyb290U2NvcGUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICByZXR1cm4ge1xuICAgIHJlcXVlc3Q6IGFkZFRva2VuLFxuICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gICAgICBpZiggTG9jYWxTdG9yZS5nZXRJdGVtKCdhdXRoLXRva2VuJykgKXtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnZXJyb3InLCByZXMuc3RhdHVzKTtcbiAgICAgIH1cblxuICAgICAgZGVmZXIucmVqZWN0KHJlcyk7XG5cbiAgICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBhZGRUb2tlbihjb25maWcpIHtcbiAgICB2YXIgdG9rZW4gPSBMb2NhbFN0b3JlLmdldEl0ZW0oJ2F1dGgtdG9rZW4nKTtcblxuICAgIHZhciB1cmwgPSBjb25maWcudXJsLnNwbGl0KCcuJyk7XG5cbiAgICBpZiAodG9rZW4gJiYgdXJsLmluZGV4T2YoJ2FtYXpvbmF3cycpID09IC0xKSB7XG4gICAgICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHRva2VuO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cbn0pO1xuIiwiYXBwLmZhY3RvcnkoJ0xvY2FsU3RvcmUnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXG4gIHZhciBzdG9yZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlO1xuXG4gIHJldHVybiB7XG4gICAgc2V0SXRlbTogc2V0SXRlbSxcbiAgICBnZXRJdGVtOiBnZXRJdGVtXG4gIH07XG5cblxuICBmdW5jdGlvbiBnZXRJdGVtKG5hbWUpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdG9yZS5nZXRJdGVtKG5hbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEl0ZW0obmFtZSwgZGF0YSkge1xuICAgIGlmIChuYW1lLCBkYXRhKSB7XG4gICAgICBzdG9yZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICB9IGVsc2UgaWYobmFtZSkge1xuICAgICAgc3RvcmUucmVtb3ZlSXRlbShuYW1lKTtcbiAgICB9XG4gIH1cblxufSk7XG4iLCJhcHAuZmFjdG9yeSgnTWV0YVNldHRpbmdzJywgZnVuY3Rpb24oKXtcbiAgdmFyIGFwcE5hbWUgPSAnV2lzaGVybyc7XG4gIHZhciB0aXRsZSA9ICdMb2FkaW5nJztcbiAgdmFyIGRlc2MgPSAnJztcbiAgdmFyIHZlcnNpb24gPSAnJztcbiAgdmFyIHNvY2lhbFVybCA9ICcnO1xuXG4gIHJldHVybiB7XG4gICAgYXBwTmFtZTogZnVuY3Rpb24gKCkge3JldHVybiBhcHBOYW1lO30sXG4gICAgdGl0bGU6IGZ1bmN0aW9uICgpIHtyZXR1cm4gdGl0bGUgKyAnIHwgJzt9LFxuICAgIHNldFRpdGxlOiBmdW5jdGlvbiAobmV3VGl0bGUpIHt0aXRsZSA9IG5ld1RpdGxlO30sXG4gICAgZGVzYzogZnVuY3Rpb24gKHRleHQpIHtyZXR1cm4gZGVzYzt9LFxuICAgIHNldERlc2M6IGZ1bmN0aW9uIChuZXdEZXNjKSB7ZGVzYyA9IG5ld0Rlc2M7fSxcbiAgICB2ZXJzaW9uOiBmdW5jdGlvbiAoKSB7cmV0dXJuIHZlcnNpb247fSxcbiAgICBzZXRWZXJzaW9uOiBmdW5jdGlvbiAobmV3VmVyc2lvbikge3ZlcnNpb24gPSBuZXdWZXJzaW9uO30sXG4gICAgc2V0U29jaWFsVXJsOiBmdW5jdGlvbiAodXJsKSB7c29jaWFsVXJsID0gdXJsO30sXG4gICAgZ2V0U29jaWFsVXJsOiBmdW5jdGlvbiAodXJsKSB7cmV0dXJuIHNvY2lhbFVybDt9XG4gIH07XG5cbn0pO1xuIiwiYXBwLnNlcnZpY2UoJ2ltYWdlU2VydmljZScsIGZ1bmN0aW9uICgkaHR0cCwgJHEsICR0aW1lb3V0KSB7XG4gIHZhciBOVU1fTE9CRVMgPSAzO1xuICB2YXIgbGFuY3pvcyA9IGxhbmN6b3NHZW5lcmF0b3IoTlVNX0xPQkVTKTtcblxuICAvLyByZXNpemUgdmlhIGxhbmN6b3Mtc2luYyBjb252b2x1dGlvblxuICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uIChpbWcsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgc2VsZiA9IHsgfTtcblxuICAgIHNlbGYudHlwZSAgICA9IFwiaW1hZ2UvcG5nXCI7XG4gICAgc2VsZi5xdWFsaXR5ID0gMS4wO1xuICAgIHNlbGYucmVzdWx0RCA9ICRxLmRlZmVyKCk7XG5cbiAgICBzZWxmLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgc2VsZi5jdHggPSBnZXRDb250ZXh0KHNlbGYuY2FudmFzKTtcbiAgICBzZWxmLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgICAgICAgPSB0cnVlO1xuICAgIHNlbGYuY3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCAgICA9IHRydWU7XG4gICAgc2VsZi5jdHgub0ltYWdlU21vb3RoaW5nRW5hYmxlZCAgICAgID0gdHJ1ZTtcbiAgICBzZWxmLmN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgaWYgKGltZy5uYXR1cmFsV2lkdGggPD0gd2lkdGggfHwgaW1nLm5hdHVyYWxIZWlnaHQgPD0gaGVpZ2h0KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZBU1QgcmVzaXppbmcgaW1hZ2VcIiwgaW1nLm5hdHVyYWxXaWR0aCwgaW1nLm5hdHVyYWxIZWlnaHQsIFwiPT5cIiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIHNlbGYuY2FudmFzLndpZHRoICA9IHdpZHRoO1xuICAgICAgc2VsZi5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgc2VsZi5jdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICByZXNvbHZlTGFuY3pvcyhzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJTTE9XIHJlc2l6aW5nIGltYWdlXCIsIGltZy5uYXR1cmFsV2lkdGgsIGltZy5uYXR1cmFsSGVpZ2h0LCBcIj0+XCIsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICBzZWxmLmNhbnZhcy53aWR0aCAgPSBpbWcubmF0dXJhbFdpZHRoO1xuICAgICAgc2VsZi5jYW52YXMuaGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBzZWxmLmN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzZWxmLmNhbnZhcy53aWR0aCwgc2VsZi5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgc2VsZi5pbWcgPSBpbWc7XG4gICAgICBzZWxmLnNyYyA9IHNlbGYuY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzZWxmLmNhbnZhcy53aWR0aCwgc2VsZi5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIHNlbGYuZGVzdCA9IHtcbiAgICAgICAgd2lkdGg6ICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgICBzZWxmLmRlc3QuZGF0YSA9IG5ldyBBcnJheShzZWxmLmRlc3Qud2lkdGggKiBzZWxmLmRlc3QuaGVpZ2h0ICogNCk7XG5cbiAgICAgIHNlbGYucmF0aW8gICAgID0gaW1nLm5hdHVyYWxXaWR0aCAvIHdpZHRoO1xuICAgICAgc2VsZi5yY3BSYXRpbyAgPSAyIC8gc2VsZi5yYXRpbztcbiAgICAgIHNlbGYucmFuZ2UyICAgID0gTWF0aC5jZWlsKHNlbGYucmF0aW8gKiBOVU1fTE9CRVMgLyAyKTtcbiAgICAgIHNlbGYuY2FjaGVMYW5jID0ge307XG4gICAgICBzZWxmLmNlbnRlciAgICA9IHt9O1xuICAgICAgc2VsZi5pY2VudGVyICAgPSB7fTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyBhcHBseUxhbmN6b3NDb2x1bW4oc2VsZiwgMCk7IH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnJlc3VsdEQucHJvbWlzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBhcHBseUxhbmN6b3NDb2x1bW4gKHNlbGYsIHUpIHtcbiAgICBzZWxmLmNlbnRlci54ICA9ICh1ICsgMC41KSAqIHNlbGYucmF0aW87XG4gICAgc2VsZi5pY2VudGVyLnggPSBzZWxmLmNlbnRlci54IHwgMDtcblxuICAgIGZvciAodmFyIHYgPSAwOyB2IDwgc2VsZi5kZXN0LmhlaWdodDsgdisrKSB7XG4gICAgICBzZWxmLmNlbnRlci55ICA9ICh2ICsgMC41KSAqIHNlbGYucmF0aW87XG4gICAgICBzZWxmLmljZW50ZXIueSA9IHNlbGYuY2VudGVyLnkgfCAwO1xuXG4gICAgICB2YXIgYSwgciwgZywgYjtcbiAgICAgIGEgPSByID0gZyA9IGIgPSAwO1xuXG4gICAgICB2YXIgbm9ybSA9IDA7XG4gICAgICB2YXIgaWR4O1xuXG4gICAgICBmb3IgKHZhciBpID0gc2VsZi5pY2VudGVyLnggLSBzZWxmLnJhbmdlMjsgaSA8PSBzZWxmLmljZW50ZXIueCArIHNlbGYucmFuZ2UyOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gc2VsZi5zcmMud2lkdGgpIGNvbnRpbnVlO1xuICAgICAgICB2YXIgZlggPSAoMTAwMCAqIE1hdGguYWJzKGkgLSBzZWxmLmNlbnRlci54KSkgfCAwO1xuICAgICAgICBpZiAoIXNlbGYuY2FjaGVMYW5jW2ZYXSkge1xuICAgICAgICAgIHNlbGYuY2FjaGVMYW5jW2ZYXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IHNlbGYuaWNlbnRlci55IC0gc2VsZi5yYW5nZTI7IGogPD0gc2VsZi5pY2VudGVyLnkgKyBzZWxmLnJhbmdlMjsgaisrKSB7XG4gICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gc2VsZi5zcmMuaGVpZ2h0KSBjb250aW51ZTtcblxuICAgICAgICAgIHZhciBmWSA9ICgxMDAwICogTWF0aC5hYnMoaiAtIHNlbGYuY2VudGVyLnkpKSB8IDA7XG4gICAgICAgICAgaWYgKHNlbGYuY2FjaGVMYW5jW2ZYXVtmWV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZi5jYWNoZUxhbmNbZlhdW2ZZXSA9IGxhbmN6b3MoTWF0aC5zcXJ0KE1hdGgucG93KGZYICogc2VsZi5yY3BSYXRpbywgMikgKyBNYXRoLnBvdyhmWSAqIHNlbGYucmNwUmF0aW8sIDIpKSAvIDEwMDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB3ZWlnaHQgPSBzZWxmLmNhY2hlTGFuY1tmWF1bZlldO1xuICAgICAgICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBpZHggPSAoaiAqIHNlbGYuc3JjLndpZHRoICsgaSkgKiA0O1xuICAgICAgICAgICAgbm9ybSArPSB3ZWlnaHQ7XG5cbiAgICAgICAgICAgIHIgKz0gd2VpZ2h0ICogc2VsZi5zcmMuZGF0YVtpZHggKyAwXTtcbiAgICAgICAgICAgIGcgKz0gd2VpZ2h0ICogc2VsZi5zcmMuZGF0YVtpZHggKyAxXTtcbiAgICAgICAgICAgIGIgKz0gd2VpZ2h0ICogc2VsZi5zcmMuZGF0YVtpZHggKyAyXTtcbiAgICAgICAgICAgIGEgKz0gd2VpZ2h0ICogc2VsZi5zcmMuZGF0YVtpZHggKyAzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWR4ID0gKHYgKiBzZWxmLmRlc3Qud2lkdGggKyB1KSAqIDQ7XG4gICAgICBzZWxmLmRlc3QuZGF0YVtpZHggKyAwXSA9IHIgLyBub3JtO1xuICAgICAgc2VsZi5kZXN0LmRhdGFbaWR4ICsgMV0gPSBnIC8gbm9ybTtcbiAgICAgIHNlbGYuZGVzdC5kYXRhW2lkeCArIDJdID0gYiAvIG5vcm07XG4gICAgICBzZWxmLmRlc3QuZGF0YVtpZHggKyAzXSA9IGEgLyBub3JtO1xuICAgIH1cblxuICAgIGlmICgrK3UgPCBzZWxmLmRlc3Qud2lkdGgpIHtcbiAgICAgIGlmICh1ICUgMTYgPT09IDApIHtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyBhcHBseUxhbmN6b3NDb2x1bW4oc2VsZiwgdSk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlMYW5jem9zQ29sdW1uKHNlbGYsIHUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7IGZpbmFsaXplTGFuY3pvcyhzZWxmKTsgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluYWxpemVMYW5jem9zIChzZWxmKSB7XG4gICAgc2VsZi5jYW52YXMud2lkdGggID0gc2VsZi5kZXN0LndpZHRoO1xuICAgIHNlbGYuY2FudmFzLmhlaWdodCA9IHNlbGYuZGVzdC5oZWlnaHQ7XG4gICAgLy9zZWxmLmN0eC5kcmF3SW1hZ2Uoc2VsZi5pbWcsIDAsIDAsIHNlbGYuZGVzdC53aWR0aCwgc2VsZi5kZXN0LmhlaWdodClcbiAgICBzZWxmLnNyYyA9IHNlbGYuY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzZWxmLmRlc3Qud2lkdGgsIHNlbGYuZGVzdC5oZWlnaHQpO1xuICAgIHZhciBpZHg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmRlc3Qud2lkdGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxmLmRlc3QuaGVpZ2h0OyBqKyspIHtcbiAgICAgICAgaWR4ID0gKGogKiBzZWxmLmRlc3Qud2lkdGggKyBpKSAqIDQ7XG4gICAgICAgIHNlbGYuc3JjLmRhdGFbaWR4ICsgMF0gPSBzZWxmLmRlc3QuZGF0YVtpZHggKyAwXTtcbiAgICAgICAgc2VsZi5zcmMuZGF0YVtpZHggKyAxXSA9IHNlbGYuZGVzdC5kYXRhW2lkeCArIDFdO1xuICAgICAgICBzZWxmLnNyYy5kYXRhW2lkeCArIDJdID0gc2VsZi5kZXN0LmRhdGFbaWR4ICsgMl07XG4gICAgICAgIHNlbGYuc3JjLmRhdGFbaWR4ICsgM10gPSBzZWxmLmRlc3QuZGF0YVtpZHggKyAzXTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5jdHgucHV0SW1hZ2VEYXRhKHNlbGYuc3JjLCAwLCAwKTtcbiAgICByZXNvbHZlTGFuY3pvcyhzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVMYW5jem9zIChzZWxmKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBJbWFnZSgpO1xuXG4gICAgcmVzdWx0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYucmVzdWx0RC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfTtcblxuICAgIHJlc3VsdC5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgc2VsZi5yZXN1bHRELnJlamVjdChlcnIpO1xuICAgIH07XG5cbiAgICByZXN1bHQuc3JjID0gc2VsZi5jYW52YXMudG9EYXRhVVJMKHNlbGYudHlwZSwgc2VsZi5xdWFsaXR5KTtcbiAgfVxuXG4gIC8vIHJlc2l6ZSBieSBzdGVwcGluZyBkb3duXG4gIHRoaXMucmVzaXplU3RlcCA9IGZ1bmN0aW9uIChpbWcsIHdpZHRoLCBoZWlnaHQsIHF1YWxpdHkpIHtcbiAgICBxdWFsaXR5ID0gcXVhbGl0eSB8fCAxLjA7XG5cbiAgICB2YXIgcmVzdWx0RCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGNhbnZhcyAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dChjYW52YXMpO1xuICAgIHZhciB0eXBlID0gXCJpbWFnZS9wbmdcIjtcblxuICAgIHZhciBjVyA9IGltZy5uYXR1cmFsV2lkdGg7XG4gICAgdmFyIGNIID0gaW1nLm5hdHVyYWxIZWlnaHQ7XG5cbiAgICB2YXIgZHN0ID0gbmV3IEltYWdlKCk7XG4gICAgdmFyIHRtcCA9IG51bGw7XG5cbiAgICAvL3Jlc3VsdEQucmVzb2x2ZShpbWcpXG4gICAgLy9yZXR1cm4gcmVzdWx0RC5wcm9taXNlXG5cbiAgICBmdW5jdGlvbiBzdGVwRG93biAoKSB7XG4gICAgICBjVyA9IE1hdGgubWF4KGNXIC8gMiwgd2lkdGgpIHwgMDtcbiAgICAgIGNIID0gTWF0aC5tYXgoY0ggLyAyLCBoZWlnaHQpIHwgMDtcblxuICAgICAgY2FudmFzLndpZHRoICA9IGNXO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGNIO1xuXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZSh0bXAgfHwgaW1nLCAwLCAwLCBjVywgY0gpO1xuXG4gICAgICBkc3Quc3JjID0gY2FudmFzLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KTtcblxuICAgICAgaWYgKGNXIDw9IHdpZHRoIHx8IGNIIDw9IGhlaWdodCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0RC5yZXNvbHZlKGRzdCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdG1wKSB7XG4gICAgICAgIHRtcCA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB0bXAub25sb2FkID0gc3RlcERvd247XG4gICAgICB9XG5cbiAgICAgIHRtcC5zcmMgPSBkc3Quc3JjO1xuICAgIH1cblxuICAgIGlmIChjVyA8PSB3aWR0aCB8fCBjSCA8PSBoZWlnaHQgfHwgY1cgLyAyIDwgd2lkdGggfHwgY0ggLyAyIDwgaGVpZ2h0KSB7XG4gICAgICBjYW52YXMud2lkdGggID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIGRzdC5zcmMgPSBjYW52YXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpO1xuXG4gICAgICByZXN1bHRELnJlc29sdmUoZHN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RlcERvd24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0RC5wcm9taXNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldENvbnRleHQgKGNhbnZhcykge1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCAgICAgICA9IHRydWU7XG4gICAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgICAgPSB0cnVlO1xuICAgIGNvbnRleHQub0ltYWdlU21vb3RoaW5nRW5hYmxlZCAgICAgID0gdHJ1ZTtcbiAgICBjb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG5cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuXG4gIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbGN1bGF0ZXMgbGFuY3pvcyB3ZWlnaHRcbiAgZnVuY3Rpb24gbGFuY3pvc0dlbmVyYXRvciAobG9iZXMpIHtcbiAgICB2YXIgcmVjTG9iZXMgPSAxLjAgLyBsb2JlcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKHggPiBsb2JlcykgcmV0dXJuIDA7XG4gICAgICB4ICo9IE1hdGguUEk7XG4gICAgICBpZiAoTWF0aC5hYnMoeCkgPCAxZS0xNikgcmV0dXJuIDE7XG4gICAgICB2YXIgeHggPSB4ICogcmVjTG9iZXM7XG4gICAgICByZXR1cm4gTWF0aC5zaW4oeCkgKiBNYXRoLnNpbih4eCkgLyB4IC8geHg7XG4gICAgfTtcbiAgfVxufSk7XG4iLCJhcHAuZmFjdG9yeSgndXBsb2FkJywgZnVuY3Rpb24oJGh0dHApe1xuICByZXR1cm4ge1xuICAgIGdldFNpZ25hdHVyZTogZ2V0U2lnbmF0dXJlLFxuICAgIHVwbG9hZEZpbGU6IHVwbG9hZEZpbGVcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRTaWduYXR1cmUoZmlsZSwgY2Ipe1xuICAgICRodHRwLmdldCgnYXBpL3VwbG9hZC9zaWduX3MzP2ZpbGVfbmFtZT0nICsgZmlsZS5uYW1lICsgJyZmaWxlX3R5cGU9JyArIGZpbGUudHlwZSlcbiAgICAudGhlbihcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKXtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIHJlcy5kYXRhKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiBlcnJvcihlcnIpe1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlLCBzaWduZWRfcmVxdWVzdCwgY2Ipe1xuXG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3gtYW16LWFjbCc6ICdwdWJsaWMtcmVhZCdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJGh0dHAucHV0KHNpZ25lZF9yZXF1ZXN0LCBmaWxlKVxuICAgIC50aGVuKFxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXMpe1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIGVycm9yKGVycil7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfSk7XG5cbiAgfVxuXG5cblxuXG59KTtcbiIsIlxuYXBwLmZhY3RvcnkoJ1VzZXInLCBmdW5jdGlvbigkcSwgV2lzaGxpc3QsICR0aW1lb3V0LCAkcm9vdFNjb3BlLCBMb2NhbFN0b3JlLCAkaHR0cCwgYW5hbHl0aWNzKXtcblxuICB2YXIgd2lzaGxpc3RzID0gW107XG4gIHZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xuICB2YXIgdXNlciA9IG51bGw7XG5cblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXQsXG4gICAgaXNJbml0OiBpc0luaXQsXG4gICAgZ2V0V2lzaGxpc3RzOiBnZXRXaXNobGlzdHMsXG4gICAgZ2V0V2lzaGxpc3Q6IGdldFdpc2hsaXN0LFxuICAgIHNldFdpc2hsaXN0czogc2V0V2lzaGxpc3RzLFxuICAgIHVwZGF0ZVdpc2hsaXN0OiB1cGRhdGVXaXNobGlzdCxcbiAgICBraWxsOiBraWxsLFxuICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgc2V0VXNlcjogc2V0VXNlcixcbiAgICBtb3N0V2lzaGxpc3RJdGVtczogbW9zdFdpc2hsaXN0SXRlbXMsXG4gICAgYWRkV2lzaExpc3RJdGVtOiBhZGRXaXNoTGlzdEl0ZW0sXG4gICAgcmVtb3ZlV2lzaGxpc3RJdGVtOiByZW1vdmVXaXNobGlzdEl0ZW0sXG4gICAgdXBkYXRlV2lzaGxpc3RJdGVtOiB1cGRhdGVXaXNobGlzdEl0ZW0sXG4gICAgZ2V0QWxsV2lzaGVzOiBnZXRBbGxXaXNoZXMsXG4gICAgY3JlYXRlV2lzaGxpc3Q6IGNyZWF0ZVdpc2hsaXN0LFxuICAgIGRlbGV0ZVdpc2hsaXN0OiBkZWxldGVXaXNobGlzdCxcbiAgICBnZXRGcmllbmRzOmdldEZyaWVuZHMsXG4gICAgYWRkRnJpZW5kOmFkZEZyaWVuZCxcbiAgICBkZWxldGVGcmllbmQ6IGRlbGV0ZUZyaWVuZCxcbiAgICBpbnZpdGVGcmllbmQ6IGludml0ZUZyaWVuZFxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKXtcbiAgICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VXNlcihuZXdVc2VyKXtcbiAgICB1c2VyID0gbmV3VXNlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSW5pdChjYil7XG4gICAgaWYoIWluaXRpYWxpemVkKXtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlzSW5pdChjYik7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdChvYmope1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdmFyIHdpc2hsaXN0RGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gICAgaWYob2JqICYmIG9iai50b2tlbil7XG4gICAgICBMb2NhbFN0b3JlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCBvYmoudG9rZW4pO1xuICAgIH1cblxuICAgIGlmKG9iaiAmJiBvYmoudXNlcikge1xuICAgICAgdXNlciA9IG9iai51c2VyO1xuICAgICAgYW5hbHl0aWNzLmlkZW50aWZ5KHVzZXIuX2lkKTtcbiAgICB9XG5cbiAgICBpZihvYmogJiYgb2JqLndpc2hsaXN0cykge1xuICAgICAgd2lzaGxpc3RzID0gb2JqLndpc2hsaXN0cztcbiAgICAgIHdpc2hsaXN0RGVmZXIucmVzb2x2ZShvYmoud2lzaGxpc3RzKTtcbiAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZihMb2NhbFN0b3JlLmdldEl0ZW0oJ2F1dGgtdG9rZW4nKSkge1xuICAgICAgICBXaXNobGlzdC5mZXRjaCgpXG4gICAgICAgICAgLnRoZW4oXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKXtcbiAgICAgICAgICAgICAgd2lzaGxpc3REZWZlci5yZXNvbHZlKHJlcy5kYXRhLndpc2hsaXN0KTtcbiAgICAgICAgICAgICAgd2lzaGxpc3RzID0gcmVzLmRhdGEud2lzaGxpc3Q7XG4gICAgICAgICAgICAgIHVzZXIgPSByZXMuZGF0YS51c2VyO1xuXG5cblxuICAgICAgICAgICAgICBhbmFseXRpY3MuaWRlbnRpZnkodXNlci5faWQpO1xuXG5cbiAgICAgICAgICAgICAgYW5hbHl0aWNzLnNldFVzZXIoe1xuICAgICAgICAgICAgICAgICRlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAkdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgJG5hbWU6IHVzZXJuYW1lKCksXG4gICAgICAgICAgICAgICAgd2lzaGVzOiBnZXRBbGxXaXNoZXMoKS5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgd2lzaGxpc3RzOiB3aXNobGlzdHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGJpcnRoZGF5OiBiaXJ0aGRheSgpLFxuICAgICAgICAgICAgICAgIGZyaWVuZHM6IHVzZXIuZnJpZW5kcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgZmFjZWJvb2s6IGZhY2Vib29rKCksXG4gICAgICAgICAgICAgICAgY29uZmlybWVkOiB1c2VyLmNvbmZpcm1lZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgZnVuY3Rpb24gdXNlcm5hbWUoKXtcbiAgICAgICAgICAgICAgICBpZih1c2VyICYmIHVzZXIuZmlyc3ROYW1lICYmIHVzZXIubGFzdE5hbWUpIHJldHVybiB1c2VyLmZpcnN0TmFtZSArICcgJyArIHVzZXIubGFzdE5hbWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXIudXNlcm5hbWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmdW5jdGlvbiBiaXJ0aGRheSgpe1xuICAgICAgICAgICAgICAgIGlmKHVzZXIgJiYgdXNlci5iaXJ0aGRheSA9PT0gJzE5NzAtMDEtMDFUMDA6MDA6MDAuMDAwWicpIHJldHVybjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlci5iaXJ0aGRheTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGZhY2Vib29rKCkge1xuICAgICAgICAgICAgICAgIGlmKHVzZXIgJiYgdXNlci5mYWNlYm9vaykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyKXtcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgd2lzaGxpc3REZWZlci5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuXG5cbiAgICByZXR1cm4gJHEuYWxsKFt3aXNobGlzdERlZmVyLnByb21pc2VdKTtcblxuXG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFdpc2hsaXN0cygpe1xuICAgIHJldHVybiB3aXNobGlzdHM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRXaXNobGlzdChpZCl7XG5cblxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpc2hsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoaWQgPT09IHdpc2hsaXN0c1tpXS5faWQpe1xuICAgICAgICByZXR1cm4gd2lzaGxpc3RzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuXG4gIH1cblxuICBmdW5jdGlvbiBzZXRXaXNobGlzdHMod2lzaGxpc3RzKXtcbiAgICB3aXNobGlzdHMgPSB3aXNobGlzdHM7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVXaXNobGlzdChuZXdXaXNobGlzdCl7XG4gICAgdmFyIG9sZFdpc2hsaXN0ID0gZmluZFdpc2hsaXN0KG5ld1dpc2hsaXN0Ll9pZCk7XG4gICAgb2xkV2lzaGxpc3QgPSBuZXdXaXNobGlzdDtcbiAgICBtaXhwYW5lbC50cmFjayhcIldpc2hsaXN0IHVwZGF0ZWRcIik7XG4gICAgV2lzaGxpc3QudXBkYXRlV2lzaGxpc3QobmV3V2lzaGxpc3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFdpc2hsaXN0KGlkKXtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpc2hsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoaWQgPT09IHdpc2hsaXN0c1tpXS5faWQpe1xuICAgICAgICByZXR1cm4gd2lzaGxpc3RzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vc3RXaXNobGlzdEl0ZW1zKCl7XG4gICAgICAgIHZhciBtb3N0SXRlbXMgPSAwO1xuICAgICAgICB2YXIgZ290byA9IDA7XG5cbiAgICAgICAgaWYod2lzaGxpc3RzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aXNobGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZihtb3N0SXRlbXMgPD0gd2lzaGxpc3RzW2ldLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgbW9zdEl0ZW1zID0gd2lzaGxpc3RzW2ldLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGdvdG8gPSB3aXNobGlzdHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdvdG8uX2lkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWxsV2lzaGVzKCl7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBhcnIgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2lzaGxpc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIucHVzaCh3aXNobGlzdHNbaV0uaXRlbXMpO1xuICAgIH1cblxuICAgIGFyciA9IF8uZmxhdHRlbihhcnIpO1xuICAgIG9iai5pdGVtcyA9IGFycjtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGtpbGwoKXtcbiAgICAvL2luaXRpYWxpemVkID0gZmFsc2U7XG4gIH1cblxuICAvL2NoZWNrIGlmIGl0ZW0gZXhpc3RzIHdpdGhpbiB3aXNobGlzdFxuICBmdW5jdGlvbiB3aXNoTGlzdEl0ZW1FeGlzaXRzKHdpc2hsaXN0LCBpdGVtKXtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpc2hsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih3aXNobGlzdC5pdGVtc1tpXS5pZCA9PSBpdGVtLmlkKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vYWRkIGl0ZW0gdG8gd2lzaGxpc3QgaWYgaXRlbSBkb2VzIG5vdCBleGlzdFxuICBmdW5jdGlvbiBhZGRXaXNoTGlzdEl0ZW0oaXRlbSl7XG4gICAgdmFyIHdpc2hsaXN0ID0gZmluZFdpc2hsaXN0KGl0ZW0ud2lzaGxpc3RJZCk7XG5cbiAgICBpZighd2lzaExpc3RJdGVtRXhpc2l0cyh3aXNobGlzdCwgaXRlbSkpIHtcbiAgICAgIHdpc2hsaXN0Lml0ZW1zLnB1c2goaXRlbSk7XG5cbiAgICAgIFdpc2hsaXN0LmFkZEl0ZW0od2lzaGxpc3QsIGl0ZW0pXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgbWl4cGFuZWwucGVvcGxlLmluY3JlbWVudChcIndpc2hlc1wiKTtcbiAgICAgICAgICBtaXhwYW5lbC50cmFjayhcIldpc2hsaXN0IGl0ZW0gYWRkZWRcIik7XG4gICAgICAgICAgaWYocmVzLnVybCl7XG5cbiAgICAgICAgICAgICBXaXNobGlzdC5mZXRjaEl0ZW1EYXRhKGl0ZW0pXG4gICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICBpZihyZXMuaW1nLmxlbmd0aCA+IDApICBpdGVtLmltZyAgPSByZXMuaW1nWzBdO1xuICAgICAgICAgICAgICAgICBpZihyZXMubmFtZSkgICAgICAgICAgICBpdGVtLm5hbWUgPSByZXMubmFtZTtcbiAgICAgICAgICAgICAgICAgaWYocmVzLmRlc2MpICAgICAgICAgICAgaXRlbS5kZXNjID0gcmVzLmRlc2M7XG5cbiAgICAgICAgICAgICAgICAgdXBkYXRlV2lzaGxpc3RJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgICBXaXNobGlzdC51cGRhdGVJdGVtKHdpc2hsaXN0LCBpdGVtKTtcbiAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRXaXNobGlzdEl0ZW0od2lzaGxpc3QsIGl0ZW0sIGNiKXtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpc2hsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih3aXNobGlzdC5pdGVtc1tpXS5pZCA9PSBpdGVtLmlkKXtcbiAgICAgICAgcmV0dXJuIGNiKHdpc2hsaXN0Lml0ZW1zW2ldLCBpLCB3aXNobGlzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYihudWxsKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmVtb3ZlV2lzaGxpc3RJdGVtKGl0ZW0pIHtcbiAgICB2YXIgd2lzaGxpc3QgPSBmaW5kV2lzaGxpc3QoaXRlbS53aXNobGlzdElkKTtcblxuICAgIGdldFdpc2hsaXN0SXRlbSh3aXNobGlzdCwgaXRlbSwgZnVuY3Rpb24oX2l0ZW0sIGluZGV4LCBfd2lzaGxpc3Qpe1xuICAgICAgaWYoIV9pdGVtKSByZXR1cm47XG4gICAgICBfd2lzaGxpc3QuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIG1peHBhbmVsLnBlb3BsZS5pbmNyZW1lbnQoXCJ3aXNoZXNcIiwgLTEpO1xuICAgICAgbWl4cGFuZWwudHJhY2soXCJXaXNobGlzdCBpdGVtIHJlbW92ZWRcIik7XG4gICAgICBXaXNobGlzdC5kZWxldGVJdGVtKHdpc2hsaXN0LCBpdGVtKTtcbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlV2lzaGxpc3RJdGVtKGl0ZW0pe1xuICAgIHZhciB3aXNobGlzdCA9IGZpbmRXaXNobGlzdChpdGVtLndpc2hsaXN0SWQpO1xuXG4gICAgZ2V0V2lzaGxpc3RJdGVtKHdpc2hsaXN0LCBpdGVtLCBmdW5jdGlvbihfaXRlbSwgaW5kZXgsIF93aXNobGlzdCl7XG4gICAgICBpZighX2l0ZW0pIHJldHVybjtcbiAgICAgIF93aXNobGlzdC5pdGVtc1tpbmRleF0gPSBpdGVtO1xuICAgICAgV2lzaGxpc3QudXBkYXRlSXRlbSh3aXNobGlzdCwgaXRlbSk7XG4gICAgICBtaXhwYW5lbC50cmFjayhcIldpc2hsaXN0IGl0ZW0gdXBkYXRlZFwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVdpc2hsaXN0KHdpc2hsaXN0SWQpe1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aXNobGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHdpc2hsaXN0c1tpXS5faWQgPT0gd2lzaGxpc3RJZCkge1xuICAgICAgICB3aXNobGlzdHNbaV0uaXRlbXMgPSBbXTtcbiAgICAgICAgJHJvb3RTY29wZS5zaG93U3ViaGVhZGVyID0gZmFsc2U7XG4gICAgICAgIHdpc2hsaXN0cy5zcGxpY2UoaSwxKTtcbiAgICAgICAgbWl4cGFuZWwucGVvcGxlLmluY3JlbWVudChcIndpc2hsaXN0c1wiLCAtMSk7XG4gICAgICAgIG1peHBhbmVsLnRyYWNrKFwiV2lzaGxpc3QgZGVsZXRlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXaXNobGlzdCh3aXNobGlzdCl7XG4gICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aXNobGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHdpc2hsaXN0c1tpXS5faWQgPT0gd2lzaGxpc3QuX2lkKSBleGlzdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghZXhpc3RzKSB7XG4gICAgICBtaXhwYW5lbC5wZW9wbGUuaW5jcmVtZW50KFwid2lzaGxpc3RzXCIpO1xuICAgICAgbWl4cGFuZWwudHJhY2soXCJXaXNobGlzdCBjcmVhdGVkXCIpO1xuICAgICAgd2lzaGxpc3RzLnB1c2god2lzaGxpc3QpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RnJpZW5kcyhxdWVyeSkge1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlci9mcmllbmQvJyArIHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUZyaWVuZChmcmllbmQpe1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1c2VyLmZyaWVuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKGZyaWVuZC5faWQgPT09IHVzZXIuZnJpZW5kc1tpXS5faWQpIHtcbiAgICAgICAgdXNlci5mcmllbmRzLnNwbGljZShpLDEpO1xuICAgICAgICBkZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZGVsKCl7XG4gICAgICAgICRodHRwLmRlbGV0ZSgnL2FwaS91c2VyL2ZyaWVuZC8nICsgZnJpZW5kLl9pZClcbiAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKXtcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnZXJyb3InLCAnRnJpZW5kIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgbWl4cGFuZWwucGVvcGxlLmluY3JlbWVudChcImZyaWVuZHNcIiwgLTEpO1xuICAgICAgICAgICAgICBtaXhwYW5lbC50cmFjayhcIkZyaWVuZCBkZWxldGVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycil7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2Vycm9yJywgJ1VuYWJsZSB0byByZW1vdmUgZnJpZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgIH1cblxuXG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEZyaWVuZChmcmllbmQpe1xuXG4gICAgdmFyIGV4aXNpdHMgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlci5mcmllbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZihmcmllbmQuX2lkID09PSB1c2VyLmZyaWVuZHNbaV0uX2lkKSB7XG4gICAgICAgIGV4aXNpdHMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKCFleGlzaXRzKSB7XG5cbiAgICAgICRodHRwLnBvc3QoJy9hcGkvdXNlci9mcmllbmQvJywge19pZDogZnJpZW5kLl9pZH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZnVuY3Rpb24gc3VjY2Vzcygpe1xuICAgICAgICAgIHVzZXIuZnJpZW5kcy5wdXNoKGZyaWVuZCk7XG4gICAgICAgICAgbWl4cGFuZWwucGVvcGxlLmluY3JlbWVudChcImZyaWVuZHNcIik7XG4gICAgICAgICAgbWl4cGFuZWwudHJhY2soXCJGcmllbmQgYWRkZWRcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycil7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnZXJyb3InLCBlcnIuZGF0YS5lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaW52aXRlRnJpZW5kKGVtYWlsKXtcbiAgICBtaXhwYW5lbC50cmFjayhcIkZyaWVuZCBpbnZpdGVkXCIpO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXIvaW52aXRlJywge2VtYWlsOiBlbWFpbH0pO1xuICB9XG5cbn0pO1xuIiwiYXBwLmZhY3RvcnkoJ1dpc2hsaXN0JywgZnVuY3Rpb24oJGh0dHAsICRyb290U2NvcGUpe1xuXG4gIHZhciBsb2NhbFdpc2hsaXN0ID0gW107XG5cbiAgcmV0dXJuIHtcbiAgICBmZXRjaCAgICAgICAgIDogZ2V0V2lzaExpc3RzLFxuICAgIGdldFdpc2hsaXN0ICAgOiBnZXRXaXNobGlzdCxcbiAgICBjcmVhdGVXaXNobGlzdDogY3JlYXRlV2lzaGxpc3QsXG4gICAgdXBkYXRlV2lzaGxpc3Q6IHVwZGF0ZVdpc2hsaXN0LFxuICAgIGRlbGV0ZVdpc2hsaXN0OiBkZWxldGVXaXNobGlzdCxcbiAgICBhZGRJdGVtICAgICAgIDogYWRkSXRlbSxcbiAgICB1cGRhdGVJdGVtICAgIDogdXBkYXRlSXRlbSxcbiAgICBkZWxldGVJdGVtICAgIDogZGVsZXRlSXRlbSxcbiAgICBmZXRjaEl0ZW1EYXRhIDogZmV0Y2hJdGVtRGF0YSxcblxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFdpc2hMaXN0cygpe1xuICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS93aXNobGlzdCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0V2lzaGxpc3Qod2lzaGxpc3RJZCl7XG4gICAgcmV0dXJuICRodHRwLmdldCgnYXBpL3dpc2hsaXN0LycgKyB3aXNobGlzdElkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVdpc2hsaXN0KHdpc2hsaXN0KXtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3dpc2hsaXN0LycsIHdpc2hsaXN0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVdpc2hsaXN0KHdpc2hsaXN0KXtcbiAgICByZXR1cm4gJGh0dHAucHV0KCdhcGkvd2lzaGxpc3QvJyArIHdpc2hsaXN0Ll9pZCwgd2lzaGxpc3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlV2lzaGxpc3Qod2lzaGxpc3Qpe1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJ2FwaS93aXNobGlzdC8nICsgd2lzaGxpc3QuX2lkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEl0ZW0od2lzaGxpc3QsIGl0ZW0pe1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvd2lzaGxpc3QvJyArIHdpc2hsaXN0Ll9pZCwgaXRlbSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVJdGVtKHdpc2hsaXN0LCBpdGVtKXtcbiAgICByZXR1cm4gJGh0dHAucHV0KCdhcGkvd2lzaGxpc3QvJyArIHdpc2hsaXN0Ll9pZCArICcvJyArICBpdGVtLmlkLCBpdGVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0od2lzaGxpc3QsIGl0ZW0pe1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJ2FwaS93aXNobGlzdC8nICsgd2lzaGxpc3QuX2lkICsgJy8nICsgIGl0ZW0uaWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hJdGVtRGF0YShpdGVtKXtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3dpc2hsaXN0L2dldEltYWdlcycsIHt1cmw6IGl0ZW0udXJsfSk7XG4gIH1cblxuXG59KTtcbiIsImFwcC5jb250cm9sbGVyKCdVc2VyQ3RybCcsIGZ1bmN0aW9uKE1ldGFTZXR0aW5ncywgJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRodHRwLCAkd2luZG93LCBVc2VyLCAkcm9vdFNjb3BlKXtcblxuICBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICB9XG5cbiAgTWV0YVNldHRpbmdzLnNldFRpdGxlKGNhcGl0YWxpemVGaXJzdExldHRlcigkc3RhdGVQYXJhbXMudXNlcm5hbWUpICsgICdcXCdzIHdpc2hsaXN0Jyk7XG4gICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcblxuXG4gICAgJGh0dHAuZ2V0KCdhcGkvdXNlci9wdWJsaWMvJyArICRzdGF0ZVBhcmFtcy51c2VybmFtZSlcbiAgICAgIC50aGVuKFxuICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHVzZXIpe1xuICAgICAgICAgIG1peHBhbmVsLnRyYWNrKFwiVmlld2luZyBmcmllbmQncyB3aXNoZXNcIik7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdwdWInLCB1c2VyLmRhdGEpO1xuICAgICAgICAgICRzY29wZS5wdWJVc2VyID0gdXNlci5kYXRhO1xuICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yKCl7XG4gICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAkc2NvcGUucHViVXNlciA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdlcnJvcicsICcgVGhlIHVzZXJuYW1lIGNvdWxkIG5vdCBiZSBmb3VuZC4gQ2hlY2sgaWYgdGhlIHVybCBpcyBsb29raW5nIGxlZ2l0LicpO1xuICAgICAgICAgICRzY29wZS51c2VyU3RhdHVzID0gJ1VzZXIgbm90IGZvdW5kLic7XG4gICAgICAgIH0pO1xuXG5cblxuXG5cbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgndXNlcicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGVVcmw6ICdhcHAvVXNlci91c2VyLmh0bWwnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsIG1kNSwgQXV0aCwgTG9jYWxTdG9yZSwgVXNlciwgJG1kRGlhbG9nLCAkaHR0cCl7XG4gICAgICAkc2NvcGUudXNlckFjdGlvbiAgID0gQXV0aDtcblxuICAgICAgVXNlci5pc0luaXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAkc2NvcGUudXNlciA9IFVzZXIuZ2V0VXNlcigpO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVzZXIuZ2V0VXNlcigpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgJHNjb3BlLnVzZXIgPSBuZXdWYWx1ZTtcbiAgICAgICAgICBpZiAoJHNjb3BlLnVzZXIgJiYgJHNjb3BlLnVzZXIuZmFjZWJvb2spIHtcbiAgICAgICAgICAgICRzY29wZS51c2VyLmZhY2Vib29rLmRpc3BsYXlOYW1lICA9ICRzY29wZS51c2VyLmZhY2Vib29rLmRpc3BsYXlOYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAkc2NvcGUudXNlci5mYWNlYm9vay5kaXNwbGF5TmFtZSAgPSAkc2NvcGUudXNlci5mYWNlYm9vay5kaXNwbGF5TmFtZVswXTtcbiAgICAgICAgICAgIGlmKCEkc2NvcGUudXNlci5waWN0dXJlKSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyLnBpY3R1cmUgICAgICAgICAgICAgICA9ICdodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyAkc2NvcGUudXNlci5mYWNlYm9vay5pZCArICcvcGljdHVyZT93aWR0aD0zMDAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCRzY29wZS51c2VyICYmICEkc2NvcGUudXNlci5mYWNlYm9vayAmJiAkc2NvcGUudXNlci5lbWFpbCAmJiAhJHNjb3BlLnVzZXIucGljdHVyZSkge1xuICAgICAgICAgICAgJHNjb3BlLnVzZXIucGljdHVyZSA9ICdodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIvJyArIG1kNS5jcmVhdGVIYXNoKCRzY29wZS51c2VyLmVtYWlsKSArICc/cz0zMDAnO1xuICAgICAgICAgIH1cblxuICAgICAgfSk7XG5cblxuICAgICAgJHNjb3BlLmZlZWRiYWNrID0gZnVuY3Rpb24oZXYpIHtcblxuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvRGlyZWN0aXZlcy9mZWVkYmFjay9mZWVkYmFjay5odG1sJyxcbiAgICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOnRydWUsXG4gICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICAgIHByZXNlcnZlU2NvcGU6IHRydWUsXG4gICAgICAgICAgbG9jYWxzOiB7fSxcbiAgICAgICAgICBjb250cm9sbGVyOiBmZWVkYmFja0N0cmwsXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZm9ybSl7XG4gICAgICAgICAgJGh0dHAucG9zdCgnYXBpL3VzZXIvZmVlZGJhY2snLCBmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG5cblxuICAgICAgZnVuY3Rpb24gZmVlZGJhY2tDdHJsKCRzY29wZSwgJG1kRGlhbG9nLCAkaHR0cCkge1xuICAgICAgICAkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgICAgICAkbWREaWFsb2cuaGlkZShmb3JtKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgfSk7XG5cblxuXG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuY29udHJvbGxlcignV2lzaGxpc3RDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgTWV0YVNldHRpbmdzLCAkc3RhdGUsIFVzZXIpe1xuXG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnV2lzaGxpc3QnKTtcbiAgTWV0YVNldHRpbmdzLnNldFNvY2lhbFVybCgkc3RhdGUucGFyYW1zLnVzZXJuYW1lKTtcbiAgTWV0YVNldHRpbmdzLnNldERlc2MoJ0NoZWNrIG91dCBteSB3aXNoZXMgYXQgV2lzaGVyby5jby4gQ3JlYXRlIGFuZCBzaGFyZSB5b3VyIHdpc2hsaXN0IHRvby4nKTtcblxuICAkc2NvcGUud2lzaGxpc3RJZCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICRzdGF0ZS5wYXJhbXMuaWQ7XG4gIH07XG5cblxuICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgIGlmKCFVc2VyLmdldFVzZXIoKSAmJiAkc3RhdGUucGFyYW1zLnVzZXJuYW1lKSAkc3RhdGUuZ28oJ3VzZXInLCB7dXNlcm5hbWU6ICRzdGF0ZS5wYXJhbXMudXNlcm5hbWV9KTtcbiAgfSk7XG5cbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgnd2lzaGxpc3QnLCBmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnYXBwL1dpc2hsaXN0L3dpc2hsaXN0LnRlbXBsYXRlLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWVcbiAgfTtcbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ0FkbWluQ3RybCcsIGZ1bmN0aW9uKCRodHRwLCAkc2NvcGUsIE1ldGFTZXR0aW5ncywgQXV0aCl7XG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnQWRtaW4nKTtcblxuICBBdXRoLmdldFVzZXJzKClcbiAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgICAkc2NvcGUudXNlcnMgPSByZXMuZGF0YTtcbiAgICB9KTtcblxuICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24odXNlcil7XG4gICAgQXV0aC5kZWxldGVVc2VyKHVzZXIpXG4gICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnVzZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCRzY29wZS51c2Vyc1tpXS5faWQgPT09IHVzZXIuX2lkKSB7XG4gICAgICAgICAgICAkc2NvcGUudXNlcnMuc3BsaWNlKGksMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuXG59KTtcbiIsImFwcC5jb250cm9sbGVyKCdGb3Jnb3RDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhU2V0dGluZ3MsIEF1dGgsICRtZERpYWxvZyl7XG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnRm9yZ290IHBhc3N3b3JkJyk7XG5cbiAgJHNjb3BlLmxvZ2luRmIgPSBmdW5jdGlvbigpe1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hcGkvYXV0aC9mYWNlYm9vayc7XG4gIH07XG5cbiAgJHNjb3BlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtKXtcbiAgICAkc2NvcGUuZXJyb3IgPSAnJztcbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XG5cbiAgICBBdXRoLmZvcmdvdChmb3JtLnVzZXJuYW1lKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2Vzcygpe1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAkbWREaWFsb2cuc2hvdyhcbiAgICAgICAgICAkbWREaWFsb2cuYWxlcnQoKVxuICAgICAgICAgICAgLnBhcmVudChhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwQ29udGFpbmVyJykpKVxuICAgICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSlcbiAgICAgICAgICAgIC50aXRsZSgnUmVzZXQgcGFzc3dvcmQnKVxuICAgICAgICAgICAgLmNvbnRlbnQoJ1dlIGhhdmUgc2VudCB5b3UgYSByZXNldCBwYXNzd29yZCBsaW5rIHRvIHlvdXIgZW1haWwuIENoZWNrIHlvdXIgaW5ib3ggYW5kIHNwYW0gZm9sZGVyLicpXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZXNldCBwYXNzb3JkJylcbiAgICAgICAgICAgIC5vaygnR290IGl0IScpXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoKVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiBlcnJvcihlcnIpe1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZXJyb3IgPSBlcnIuZGF0YTtcbiAgICAgIH0pO1xuICB9O1xufSk7XG4iLCJhcHAuY29udHJvbGxlcignUmVzZXRDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhU2V0dGluZ3MsIEF1dGgsICRzdGF0ZVBhcmFtcywgJG1kRGlhbG9nLCAkc3RhdGUpe1xuICBNZXRhU2V0dGluZ3Muc2V0VGl0bGUoJ1Jlc2V0IHBhc3N3b3JkJyk7XG5cblxuXG4gICRzY29wZS5zdWJtaXRGb3JtID0gZnVuY3Rpb24oZm9ybSl7XG4gICAgJHNjb3BlLmVycm9yID0gJyc7XG5cbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XG4gICAgQXV0aC5yZXNldFBhc3N3b3JkKHtcbiAgICAgIHBhc3N3b3JkOiBmb3JtLnBhc3N3b3JkLFxuICAgICAgcmVzZXRUb2tlbjogJHN0YXRlUGFyYW1zLmZvcmdvdFBhc3N3b3JkVG9rZW5cbiAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXMpe1xuICAgICAgICB2YXIgbXNnO1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmKHJlcy5kYXRhLm1lc3NhZ2UgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgbXNnID0gJ1N1Y2Nlc3MhIFlvdXIgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZC4nO1xuICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRtZERpYWxvZy5zaG93KFxuICAgICAgICAgICRtZERpYWxvZy5hbGVydCgpXG4gICAgICAgICAgICAucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wdXBDb250YWluZXInKSkpXG4gICAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKVxuICAgICAgICAgICAgLnRpdGxlKCdSZXNldCBwYXNzd29yZCcpXG4gICAgICAgICAgICAuY29udGVudChtc2cpXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdSZXNldCBwYXNzb3JkJylcbiAgICAgICAgICAgIC5vaygnR290IGl0IScpXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoKVxuICAgICAgICApO1xuXG5cblxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnIpe1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZXJyb3IgPSBlcnIuZGF0YTtcbiAgICAgIH0pO1xuICB9O1xufSk7XG4iLCJhcHAuY29udHJvbGxlcignUHJvZmlsZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIE1ldGFTZXR0aW5ncywgV2lzaGxpc3QsIFVzZXIsIEF1dGgpe1xuICBNZXRhU2V0dGluZ3Muc2V0VGl0bGUoJ015IHByb2ZpbGUnKTtcblxuICAkc2NvcGUuJG9uKCdmaWxlVXBsb2FkU3VjY2VzcycsIGZ1bmN0aW9uKGV2LCBkYXRhKXtcbiAgICAkc2NvcGUudXNlci5waWN0dXJlID0gZGF0YTtcbiAgICBtaXhwYW5lbC50cmFjayhcIkFkZGVkIHByb2ZpbGUgcGljdHVyZVwiKTtcbiAgICBBdXRoLnVzZXJTZXR0aW5ncygkc2NvcGUudXNlcik7XG4gIH0pO1xuXG5cbiAgVXNlci5pc0luaXQoZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUudXNlciA9IFVzZXIuZ2V0VXNlcigpO1xuICAgICRzY29wZS53aXNoZXMgPSBVc2VyLmdldEFsbFdpc2hlcygpLml0ZW1zLmxlbmd0aDtcblxuICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gVXNlci5nZXRVc2VyKCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgJHNjb3BlLnVzZXIgPSBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cblxuXG5cblxuXG5cblxufSk7XG4iLCJhcHAuY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhU2V0dGluZ3MsIEF1dGgsIExvY2FsU3RvcmUsICRzdGF0ZSwgVXNlcil7XG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnTG9naW4nKTtcblxuICAkc2NvcGUubG9naW5GYiA9IGZ1bmN0aW9uKCl7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FwaS9hdXRoL2ZhY2Vib29rJztcbiAgfTtcblxuICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm0pe1xuICAgICRzY29wZS5lcnJvciA9ICcnO1xuXG4gICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuXG4gICAgaWYoZm9ybS51c2VybmFtZSkgZm9ybS51c2VybmFtZSA9IGZvcm0udXNlcm5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIEF1dGgubG9naW4oZm9ybSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcyl7XG5cbiAgICAgICAgVXNlci5pc0luaXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICBtaXhwYW5lbC50cmFjayhcIkxvZ2luXCIpO1xuXG4gICAgICAgICAgJHN0YXRlLmdvKCd3aXNobGlzdCcsIHt1c2VybmFtZTogVXNlci5nZXRVc2VyKCkudXNlcm5hbWUsIGlkOiBVc2VyLm1vc3RXaXNobGlzdEl0ZW1zKCl9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgJHNjb3BlLmVycm9yID0gZXJyLmRhdGEubWVzc2FnZTtcbiAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdlcnJvcicsICdMb2dpbiBmYWlsZWQ6ICcgKyBlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgIH0pO1xuICB9O1xufSk7XG4iLCJhcHAuY29udHJvbGxlcignVG9rZW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSl7XG4gIFVzZXIuaW5pdCh7dG9rZW46ICRzdGF0ZVBhcmFtcy50b2tlbn0pXG4gICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgIHZhciBnb3RvV2lzaGxpc3QgPSBVc2VyLm1vc3RXaXNobGlzdEl0ZW1zKCk7XG4gICAgICBpZighZ290b1dpc2hsaXN0KSByZXR1cm4gJHN0YXRlLmdvKCdjcmVhdGVXaXNobGlzdCcpO1xuICAgICAgbWl4cGFuZWwudHJhY2soXCJGYWNlYm9vayBsb2dpblwiKTtcbiAgICAgICRzdGF0ZS5nbygnd2lzaGxpc3QnLCB7dXNlcm5hbWU6IFVzZXIuZ2V0VXNlcigpLnVzZXJuYW1lLCBpZDogZ290b1dpc2hsaXN0fSk7XG4gICAgfSk7XG59KTtcbiIsImFwcC5jb250cm9sbGVyKCdTZXR0aW5nc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIE1ldGFTZXR0aW5ncywgQXV0aCwgTG9jYWxTdG9yZSwgJHRpbWVvdXQsICRzdGF0ZSwgVXNlcil7XG4gIE1ldGFTZXR0aW5ncy5zZXRUaXRsZSgnU2V0dGluZ3MnKTtcblxuICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgICRzY29wZS51c2VyID0gVXNlci5nZXRVc2VyKCk7XG5cbiAgICAkc2NvcGUuZm9ybSA9IHtcbiAgICAgIGZpcnN0TmFtZTogJHNjb3BlLnVzZXIuZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWU6ICRzY29wZS51c2VyLmxhc3ROYW1lLFxuICAgICAgYmlydGhkYXk6IG5ldyBEYXRlKCRzY29wZS51c2VyLmJpcnRoZGF5KSxcbiAgICAgIHVzZXJuYW1lOiAkc2NvcGUudXNlci51c2VybmFtZSxcbiAgICAgIGVtYWlsOiAkc2NvcGUudXNlci5lbWFpbCxcbiAgICB9O1xuXG4gIH0pO1xuXG4gICRzY29wZS5zdWJtaXRGb3JtID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuZXJyb3IgPSAnJztcblxuICAgIGlmKCRzY29wZS5mb3JtLmJpcnRoZGF5KSAkc2NvcGUuZm9ybS5iaXJ0aGRheS5zZXRIb3VycygyKTtcblxuICAgIEF1dGgudXNlclNldHRpbmdzKCRzY29wZS5mb3JtKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MoKXtcbiAgICAgICAgICAkc2NvcGUuZXJyb3IgPSAnJztcbiAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2ZpbGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyKXtcblxuICAgICAgICAgIHZhciBlcnJvck9iamVjdCA9IGVyci5kYXRhLmVycm9ycztcbiAgICAgICAgICB2YXIgZXJyb3JBcnIgPSBbXTtcblxuICAgICAgICAgIGZvcih2YXIgZXJyb3JzIGluIGVycm9yT2JqZWN0KXtcbiAgICAgICAgICAgIGVycm9yQXJyLnB1c2goZXJyb3JPYmplY3RbZXJyb3JzXS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBlcnJvckFyci5qb2luKFwiICYgXCIpO1xuICAgICAgICB9XG4gICAgICApO1xuICB9O1xufSk7XG4iLCJhcHAuY29udHJvbGxlcignU2lnbnVwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgTWV0YVNldHRpbmdzLCBBdXRoLCBVc2VyLCAkc3RhdGUpe1xuICBNZXRhU2V0dGluZ3Muc2V0VGl0bGUoJ1NpZ251cCcpO1xuXG4gICRzY29wZS5sb2dpbkZiID0gZnVuY3Rpb24oKXtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYXBpL2F1dGgvZmFjZWJvb2snO1xuICB9O1xuXG4gICRzY29wZS5zdWJtaXRGb3JtID0gZnVuY3Rpb24oZm9ybSl7XG4gICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuICAgIEF1dGguc2lnbnVwKGZvcm0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgICAgICAgIG1peHBhbmVsLnRyYWNrKFwiU2lnbnVwXCIpO1xuICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ3NpZ251cCcsICdTaWdudXAgc3VjY2VzcycpO1xuICAgICAgICAgIGdvb2dfcmVwb3J0X2NvbnZlcnNpb24oKTtcbiAgICAgICAgICAkc3RhdGUuZ28oJ2NyZWF0ZVdpc2hsaXN0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnIpe1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZXJyb3IgPSAnJztcblxuICAgICAgICBpZiAoZXJyLmRhdGEuZXJyb3JzLnVzZXJuYW1lKSB7XG4gICAgICAgICAgJHNjb3BlLmVycm9yID0gZXJyLmRhdGEuZXJyb3JzLnVzZXJuYW1lLm1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyLmRhdGEuZXJyb3JzLnVzZXJuYW1lICYmIGVyci5kYXRhLmVycm9ycy5lbWFpbCkge1xuICAgICAgICAgICRzY29wZS5lcnJvciA9ICRzY29wZS5lcnJvciArICcgJiAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVyci5kYXRhLmVycm9ycy5lbWFpbCkge1xuICAgICAgICAgICRzY29wZS5lcnJvciA9ICRzY29wZS5lcnJvciArIGVyci5kYXRhLmVycm9ycy5lbWFpbC5tZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gIH07XG5cbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgnZXJyb3InLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBBdXRoLCAkc3RhdGUsICRtZFRvYXN0KXtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcyl7XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdlcnJvcicsIGZ1bmN0aW9uKGV2ZW50LCBlcnIpe1xuICAgICAgICBpZihlcnIgPT09IDQwMSkgcmV0dXJuIEF1dGgubG9nb3V0KCk7XG4gICAgICAgIGlmKGVyciA9PT0gNDAzKXtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ21haW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHR5cGVvZiBlcnIgPT09ICdzdHJpbmcnKSAkbWRUb2FzdC5zaG93U2ltcGxlKGVycik7XG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ0hlYWRlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXIsICRtZFNpZGVuYXYsIEF1dGgpe1xuXG4gICRzY29wZS50b2dnbGVTaWRlbmF2ID0gZnVuY3Rpb24obWVudUlkKSB7XG4gICAgJG1kU2lkZW5hdihtZW51SWQpLnRvZ2dsZSgpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gVXNlci5nZXRVc2VyKCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAkc2NvcGUudXNlciA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG4gICAgQXV0aC5sb2dvdXQoKTtcbiAgfTtcblxufSk7XG4iLCJhcHAuY29udHJvbGxlcignU2lkZWJhckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXIpe1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCdzaWRlYmFyJyxmdW5jdGlvbihVc2VyKXtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FwcC9Db21tb25zL1NpZGViYXIvc2lkZWJhci5odG1sJyxcbiAgICBzY29wZToge30sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICAgICAgZWxlbWVudC5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZScpO1xuXG4gICAgICBzY29wZS51c2VyID0gVXNlci5nZXRVc2VyKCk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBVc2VyLmdldFVzZXIoKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUudXNlciA9IG5ld1ZhbHVlO1xuICAgICAgICAgIGlmKCFuZXdWYWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgV2lzaGxpc3QsICRzdGF0ZSwgJG1kU2lkZW5hdiwgJG1kRGlhbG9nLCAkbG9nLCAkaHR0cCwgJHEsIE1ldGFTZXR0aW5ncywgVXNlciwgJHRpbWVvdXQpe1xuXG5cblxuICAgICAgJHNjb3BlLnRvZ2dsZVNpZGVuYXYgPSBmdW5jdGlvbihtZW51SWQpIHtcbiAgICAgICAgJG1kU2lkZW5hdihtZW51SWQpLnRvZ2dsZSgpO1xuICAgICAgfTtcblxuXG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICRzY29wZS53aXNobGlzdHMgPSBVc2VyLmdldFdpc2hsaXN0cygpO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVzZXIuZ2V0V2lzaGxpc3RzKCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgJHNjb3BlLndpc2hsaXN0cyA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0sIDEwKTtcblxuXG5cblxuXG5cblxuXG4gICAgICAkc2NvcGUuYWRkRnJpZW5kID0gZnVuY3Rpb24oZXYpIHtcblxuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvRnJpZW5kL2FkZEZyaWVuZC5odG1sJyxcbiAgICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOnRydWUsXG4gICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICAgIHByZXNlcnZlU2NvcGU6IHRydWUsXG4gICAgICAgICAgbG9jYWxzOiB7fSxcbiAgICAgICAgICBjb250cm9sbGVyOiBhZGRGcmllbmRDdHJsLFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgIGlmKGl0ZW0pIHtcbiAgICAgICAgICAgIFVzZXIuYWRkRnJpZW5kKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVtb3ZlRnJpZW5kID0gZnVuY3Rpb24oZnJpZW5kKSB7XG5cbiAgICAgICAgVXNlci5kZWxldGVGcmllbmQoZnJpZW5kKTtcbiAgICAgIH07XG5cblxuICAgICAgZnVuY3Rpb24gYWRkRnJpZW5kQ3RybCgkc2NvcGUsICRtZERpYWxvZywgaGVscGVycykge1xuXG4gICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgICAgdmFyIGRlZmVyZWQ7XG5cbiAgICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAgIGhlbHBlcnMudHlwZXdhdGNoKHF1ZXJ5LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFVzZXIuZ2V0RnJpZW5kcyhxdWVyeSlcbiAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHVzZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1c2Vycyk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9O1xuXG5cblxuICAgICAgICAgICAgJHNjb3BlLmlzRW1haWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmUudGVzdChlbWFpbCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VuZEludml0ZSA9IGZ1bmN0aW9uKGVtYWlsKXtcbiAgICAgICAgICAgICAgVXNlci5pbnZpdGVGcmllbmQoZW1haWwpXG4gICAgICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnZXJyb3InLCAnSW52aXRlIGhhcyBiZWVuIHNlbnQhJyk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCRzY29wZS5pdGVtKTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiBlcnJvcihlcnIpe1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2Vycm9yJywgZXJyLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuY2xlYW5Vc2VyID0gZnVuY3Rpb24gKHVzZXIpe1xuICAgICAgICAgICAgICBpZighdXNlci5maXJzdE5hbWUgJiYgIXVzZXIubGFzdE5hbWUpIHJldHVybiB1c2VyLnVzZXJuYW1lO1xuICAgICAgICAgICAgICByZXR1cm4gIHVzZXIudXNlcm5hbWUgKyAnLCAnICsgdXNlci5maXJzdE5hbWUgKyAnICcgKyB1c2VyLmxhc3ROYW1lO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmFkZEZyaWVuZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCRzY29wZS5pdGVtKTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgfVxuXG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCdhY2NlcHRDb29raWVzJywgZnVuY3Rpb24oTG9jYWxTdG9yZSwgJHRpbWVvdXQpe1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnYXBwL0RpcmVjdGl2ZXMvYWNjZXB0Q29va2llcy9hY2NlcHRDb29raWVzLmh0bWwnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cil7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBpZighTG9jYWxTdG9yZS5nZXRJdGVtKCdjb29raWVzQWNjZXB0ZWQnKSkgc2NvcGUuYWNjZXB0Q29va2llcyA9IHRydWU7XG4gICAgICB9LDEwMCk7XG5cbiAgICAgIHNjb3BlLmFjY2VwdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIExvY2FsU3RvcmUuc2V0SXRlbSgnY29va2llc0FjY2VwdGVkJywgdHJ1ZSk7XG4gICAgICAgIGVsZW1lbnQuZmluZCgnZGl2JykuYWRkQ2xhc3MoJ3NsaWRlT3V0RG93bicpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59KTtcbiIsImFwcC5kaXJlY3RpdmUoJ2NvbmZpcm1BY2NvdW50JywgZnVuY3Rpb24oTG9jYWxTdG9yZSwgJHRpbWVvdXQsIFVzZXIsICRodHRwKXtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FwcC9EaXJlY3RpdmVzL2NvbmZpcm1BY2NvdW50L2NvbmZpcm1BY2NvdW50Lmh0bWwnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cil7XG5cbiAgICAgIFVzZXIuaXNJbml0KGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLnVzZXIgPSBVc2VyLmdldFVzZXIoKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gVXNlci5nZXRVc2VyKCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBzY29wZS51c2VyID0gbmV3VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50ZXh0ID0gJ1lvdXIgYWNjb3VudCBpcyBub3QgY29uZmlybWVkLiBDbGljayBoZXJlIHRvIHNlbmQgYSBjb25maXJtYXRpb24gZW1haWwuJztcbiAgICAgIHNjb3BlLnNob3dCdG4gPSB0cnVlO1xuXG4gICAgICBzY29wZS5hY2NlcHQgPSBmdW5jdGlvbigpe1xuICAgICAgICAkaHR0cC5nZXQoJy9hcGkvdXNlci9jb25maXJtL3NlbmQnKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzY29wZS50ZXh0ID0gJ0NvbmZpcm1hdGlvbiBlbWFpbCBoYXMgYmVlbiBzZW50LiBDaGVjayB5b3VyIGluYm94IGFuZCBzcGFtIGZvbGRlci4nO1xuICAgICAgICAgICAgc2NvcGUuc2hvd0J0biA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnZGl2JykuYWRkQ2xhc3MoJ3NsaWRlT3V0RG93bicpO1xuICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgIH07XG5cbiAgICB9XG4gIH07XG59KTtcbiIsImFwcC5kaXJlY3RpdmUoJ2ZlZWRiYWNrJywgZnVuY3Rpb24oJG1kRGlhbG9nLCAkaHR0cCl7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGU6ICc8c3BhbiBuZy1jbGljaz1cImZlZWRiYWNrKCRldmVudClcIiBjbGFzcz1cImZlZWRiYWNrXCI+R2l2ZSBmZWVkYmFjazwvc3Bhbj4nLFxuICAgIHNjb3BlOiB7fSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpe1xuXG5cbiAgICAgICRzY29wZS5mZWVkYmFjayA9IGZ1bmN0aW9uKGV2KSB7XG5cbiAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL0RpcmVjdGl2ZXMvZmVlZGJhY2svZmVlZGJhY2suaHRtbCcsXG4gICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTp0cnVlLFxuICAgICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgICBwcmVzZXJ2ZVNjb3BlOiB0cnVlLFxuICAgICAgICAgIGxvY2Fsczoge30sXG4gICAgICAgICAgY29udHJvbGxlcjogZmVlZGJhY2tDdHJsLFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGZvcm0pe1xuICAgICAgICAgICRodHRwLnBvc3QoJ2FwaS91c2VyL2ZlZWRiYWNrJywgZm9ybSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuXG5cbiAgICAgIGZ1bmN0aW9uIGZlZWRiYWNrQ3RybCgkc2NvcGUsICRtZERpYWxvZywgJGh0dHApIHtcbiAgICAgICAgJHNjb3BlLnNlbmQgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICAgJG1kRGlhbG9nLmhpZGUoZm9ybSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCd3ZWxjb21lJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHdpbmRvdywgTG9jYWxTdG9yZSwgJHN0YXRlLCAkdGltZW91dCwgVXNlcikge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnYXBwL0RpcmVjdGl2ZXMvd2VsY29tZS93ZWxjb21lLnRlbXBsYXRlLmh0bWwnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuXG4gICAgICB2YXIgY292ZXJJbWcgICAgPSBlbGVtZW50LmZpbmQoJ2ltZycpO1xuICAgICAgdmFyIHRleHQgICAgICAgID0gZWxlbWVudC5maW5kKCdzcGFuJyk7XG4gICAgICB2YXIgbG9hZGluZyAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpO1xuICAgICAgdmFyIHdlbGNvbWUgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlbGNvbWUnKTtcbiAgICAgIHZhciBjb3ZlciAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3ZlcicpO1xuICAgICAgdmFyIGNvdmVyVGV4dCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQnKTtcbiAgICAgIHZhciBpc0xvZ2dlZEluICA9IExvY2FsU3RvcmUuZ2V0SXRlbSgnYXV0aC10b2tlbicpO1xuXG4gICAgICB2YXIgc2tpcFN0YXRlcyA9IFsndXNlcicsICdmb3Jnb3QnLCAncmVzZXRQYXNzd29yZCcsICdsb2dpbicsICdzaWdudXAnLCAnd2lzaGxpc3QnLCAnYWJvdXQnLCAncHJpdmFjeSddO1xuXG4gICAgICBzY29wZS5hYm91dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzdGF0ZS5nbygnYWJvdXQnKTtcbiAgICAgICAgcmVtb3ZlV2VsY29tZVNjcmVlbigpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUud2VsY29tZSA9IGZ1bmN0aW9uIHdlbGNvbWUoKXtcbiAgICAgICAgJHN0YXRlLmdvKCdzaWdudXAnKTtcbiAgICAgICAgcmVtb3ZlV2VsY29tZVNjcmVlbigpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlV2VsY29tZVNjcmVlbigpe1xuICAgICAgICBlbGVtZW50LmNoaWxkcmVuKCkuYWRkQ2xhc3MoJ2ZhZGVPdXQgYW5pbWF0ZWQnKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUxvYWRpbmcoKXtcbiAgICAgICAgbG9hZGluZy5jbGFzc0xpc3QuYWRkKFwiZmFkZU91dFwiKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGhpZGVFbChsb2FkaW5nKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvd0NvdmVySW1hZ2UoKXtcbiAgICAgICAgc2hvd0VsKGNvdmVyKTtcbiAgICAgICAgY292ZXJJbWcucmVtb3ZlQ2xhc3MoJ25nLWhpZGUnKS5hZGRDbGFzcygnZmFkZUluQ292ZXInKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNob3dFbChjb3ZlclRleHQpO1xuICAgICAgICAgIHRleHQucmVtb3ZlQ2xhc3MoJ25nLWhpZGUnKS5hZGRDbGFzcygnZmFkZUluRG93bicpO1xuICAgICAgICB9LCA2MDApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG93RWwoZWwpe1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaGlkZUVsKGVsKXtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlV2VsY29tZUlmU3RhdGUoKXtcbiAgICAgICAgaWYoc2tpcFN0YXRlcy5pbmRleE9mKCRzdGF0ZS5jdXJyZW50Lm5hbWUpICAhPSAtMSkgcmVtb3ZlV2VsY29tZVNjcmVlbigpO1xuICAgICAgfVxuXG4gICAgICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgICAgICByZW1vdmVMb2FkaW5nKCk7XG4gICAgICAgIGlmKGlzTG9nZ2VkSW4pIHJldHVybiByZW1vdmVXZWxjb21lU2NyZWVuKCk7XG4gICAgICAgIHJlbW92ZVdlbGNvbWVJZlN0YXRlKCk7XG4gICAgICAgIHNob3dDb3ZlckltYWdlKCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdtYWluJykgcmV0dXJuICRzdGF0ZS5nbygnc2lnbnVwJyk7XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICB9KTtcblxuICAgIH1cbiAgfTtcbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgnYWRkSXRlbScsIGZ1bmN0aW9uKCRtZERpYWxvZyl7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzKXtcbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldil7XG4gICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9XaXNobGlzdC9hZGRJdGVtL2FkZEl0ZW0udGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgICAgY29udHJvbGxlcjogYWRkSXRlbSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gYWRkSXRlbShzY29wZSwgJG1kRGlhbG9nLCAkc3RhdGUsIGhlbHBlcnMsIFVzZXIpIHtcblxuICAgICAgICBzY29wZS5hZGRJdGVtID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgIGlmKCFzY29wZS5uZXdJdGVtLml0ZW0gfHwgISRzdGF0ZS5wYXJhbXMuaWQpIHJldHVybjtcblxuICAgICAgICAgIHZhciBfaXRlbSA9IHtcbiAgICAgICAgICAgIHdpc2hsaXN0SWQ6ICRzdGF0ZS5wYXJhbXMuaWQsXG4gICAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICAgIGlkOiBoZWxwZXJzLm1ha2VJZCg1KVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZihpcy51cmwoc2NvcGUubmV3SXRlbS5pdGVtKSkge1xuICAgICAgICAgICAgX2l0ZW0udXJsID0gc2NvcGUubmV3SXRlbS5pdGVtO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfaXRlbS5uYW1lID0gc2NvcGUubmV3SXRlbS5pdGVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFVzZXIuYWRkV2lzaExpc3RJdGVtKF9pdGVtKTtcbiAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XG4gICAgICAgIH07XG5cbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcbiIsImFwcC5kaXJlY3RpdmUoJ2VkaXRJdGVtJywgZnVuY3Rpb24oJG1kRGlhbG9nKXtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge1xuICAgICAgaXRlbTogJ0AnLFxuICAgICAgd2lzaGxpc3Q6ICdAJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2KXtcblxuICAgICAgICB2YXIgaXRlbSAgICAgICAgICA9IEpTT04ucGFyc2UoYXR0cmlidXRlcy5pdGVtKTtcbiAgICAgICAgaXRlbS53aXNobGlzdElkICAgPSBhdHRyaWJ1dGVzLndpc2hsaXN0O1xuICAgICAgICB2YXIgd2lzaGxpc3QgICAgICA9ICB7X2lkOiBhdHRyaWJ1dGVzLndpc2hsaXN0fTtcblxuICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvV2lzaGxpc3QvZWRpdEl0ZW0vZWRpdEl0ZW0udGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTp0cnVlLFxuICAgICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgICBsb2NhbHM6IHtcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICB3aXNobGlzdDogd2lzaGxpc3RcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRyb2xsZXI6IGVkaXRJdGVtQ3RybCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gZWRpdEl0ZW1DdHJsKHNjb3BlLCAkbWREaWFsb2csIGl0ZW0sIHdpc2hsaXN0LCBVc2VyLCBXaXNobGlzdCwgaGVscGVycykge1xuICAgICAgICBzY29wZS5pdGVtID0gaXRlbTtcbiAgICAgICAgc2NvcGUud2lzaGxpc3QgPSB3aXNobGlzdDtcblxuICAgICAgICBzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgVXNlci51cGRhdGVXaXNobGlzdEl0ZW0oc2NvcGUuaXRlbSk7XG4gICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5kZWxldGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBVc2VyLnJlbW92ZVdpc2hsaXN0SXRlbShzY29wZS5pdGVtKTtcbiAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUudHlwZXdhdGNoID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBoZWxwZXJzLnR5cGV3YXRjaChzY29wZS5pdGVtLnVybCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFpcy51cmwoc2NvcGUuaXRlbS51cmwpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBXaXNobGlzdC5mZXRjaEl0ZW1EYXRhKHNjb3BlLml0ZW0pXG4gICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKXtcbiAgICAgICAgICAgICAgICAgIC8vYWRkIGltYWdlIGlmIHRoZXJlIGlzIG5vIGltYWdlXG4gICAgICAgICAgICAgICAgICBpZihyZXMuZGF0YS5pbWcubGVuZ3RoID4gMCAmJiAhc2NvcGUuaXRlbS5pbWcpIHNjb3BlLml0ZW0uaW1nID0gcmVzLmRhdGEuaW1nWzBdO1xuICAgICAgICAgICAgICAgICAgLy9hZGQgbmFtZSBpZiB0aGVyZSBpcyBubyBuYW1lXG4gICAgICAgICAgICAgICAgICBpZihyZXMuZGF0YS5uYW1lICYmICFzY29wZS5pdGVtLm5hbWUpIHNjb3BlLml0ZW0ubmFtZSA9IHJlcy5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICBzY29wZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBlcnJvcigpe3Njb3BlLmxvYWRpbmcgPSBmYWxzZTt9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCd3aXNobGlzdEVtcHR5U3RhdGUnLCBmdW5jdGlvbihVc2VyLCAkc3RhdGUsIFdpc2hsaXN0LCBoZWxwZXJzKXtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FwcC9XaXNobGlzdC9lbXB0eS9lbXB0eVN0YXRlLnRlbXBsYXRlLmh0bWwnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlKXtcblxuICAgICAgVXNlci5pc0luaXQoZnVuY3Rpb24oKXtcblxuICAgICAgICBpZigkc3RhdGUucGFyYW1zLmlkKXtcbiAgICAgICAgICBzY29wZS53aXNobGlzdCA9IFVzZXIuZ2V0V2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7XG5cbiAgICAgICAgICBpZihzY29wZS53aXNobGlzdCA9PT0gbnVsbCkgc2NvcGUuaGlkZUVtcHR5U3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVzZXIuZ2V0V2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgc2NvcGUud2lzaGxpc3QgPSBuZXdWYWx1ZTtcblxuICAgICAgICAgICAgICBpZihzY29wZS53aXNobGlzdCA9PT0gbnVsbCkgc2NvcGUuaGlkZUVtcHR5U3RhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNlIHtcblxuICAgICAgICAgIHNjb3BlLmhpZGVFbXB0eVN0YXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLmFkZEl0ZW0gPSBmdW5jdGlvbihuYW1lT3JVcmwpe1xuICAgICAgICBpZighbmFtZU9yVXJsKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHdpc2hsaXN0ID0ge19pZDogJHN0YXRlLnBhcmFtcy5pZH07XG5cbiAgICAgICAgdmFyIF9pdGVtID0ge1xuICAgICAgICAgIHdpc2hsaXN0SWQ6ICRzdGF0ZS5wYXJhbXMuaWQsXG4gICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgaWQ6IGhlbHBlcnMubWFrZUlkKDUpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYoaXMudXJsKG5hbWVPclVybCkpIHtcbiAgICAgICAgICBfaXRlbS51cmwgPSBuYW1lT3JVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2l0ZW0ubmFtZSA9IG5hbWVPclVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIFVzZXIuYWRkV2lzaExpc3RJdGVtKF9pdGVtKTtcblxuXG4gICAgICB9O1xuXG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCd3aXNobGlzdEl0ZW1zJywgZnVuY3Rpb24oVXNlciwgJHN0YXRlLCAkbWREaWFsb2csIFdpc2hsaXN0LCBoZWxwZXJzKXtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FwcC9XaXNobGlzdC9pdGVtL2l0ZW0udGVtcGxhdGUuaHRtbCcsXG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGUpe1xuXG5cbiAgICAgIFVzZXIuaXNJbml0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCRzdGF0ZS5wYXJhbXMuaWQpe1xuICAgICAgICAgIHNjb3BlLndpc2hsaXN0ID0gVXNlci5nZXRXaXNobGlzdCgkc3RhdGUucGFyYW1zLmlkKTtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gVXNlci5nZXRXaXNobGlzdCgkc3RhdGUucGFyYW1zLmlkKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICBzY29wZS53aXNobGlzdCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCdpdGVtR3JpZCcsIGZ1bmN0aW9uKFVzZXIsICRzdGF0ZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQpe1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnYXBwL1dpc2hsaXN0L2l0ZW1HcmlkL2l0ZW1HcmlkLnRlbXBsYXRlLmh0bWwnLFxuICAgIHNjb3BlOiB7IHB1YjogJ0AnfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcyl7XG5cblxuICAgICAgVXNlci5pc0luaXQoZnVuY3Rpb24oKXtcblxuICAgICAgICBpZihhdHRyaWJ1dGVzLnNob3cgJiYgYXR0cmlidXRlcy5zaG93Lmxlbmd0aCA+IDIwKXtcbiAgICAgICAgICBzY29wZS5zaG93RXh0cmFzID0gdHJ1ZTtcbiAgICAgICAgICBzY29wZS53aXNobGlzdCA9IFVzZXIuZ2V0V2lzaGxpc3QoYXR0cmlidXRlcy5zaG93KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBVc2VyLmdldFdpc2hsaXN0KGF0dHJpYnV0ZXMuc2hvdyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgc2NvcGUud2lzaGxpc3QgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGF0dHJpYnV0ZXMuc2hvdyA9PT0gJ2FsbCcpe1xuICAgICAgICAgIHNjb3BlLndpc2hsaXN0ID0gVXNlci5nZXRBbGxXaXNoZXMoKTtcbiAgICAgICAgICBzY29wZS5zaG93RXh0cmFzID0gZmFsc2U7XG4gICAgICAgIH1cblxuXG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCdwdWInLCBmdW5jdGlvbihldiwgZGF0YSl7XG4gICAgICAgIHNjb3BlLnNob3dFeHRyYXMgPSBmYWxzZTtcbiAgICAgICAgdmFyIHdpc2hsaXN0cyA9IGRhdGEud2lzaGxpc3RzO1xuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpc2hsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW1zLnB1c2god2lzaGxpc3RzW2ldLml0ZW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1zID0gXy5mbGF0dGVuKGl0ZW1zKTtcblxuICAgICAgICBzY29wZS53aXNobGlzdCA9IHtpdGVtczogaXRlbXN9O1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG4iLCJhcHAuZGlyZWN0aXZlKCd3aXNobGlzdE1pc3NpbmcnLCBmdW5jdGlvbigkc3RhdGUsIFVzZXIpe1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnYXBwL1dpc2hsaXN0L21pc3NpbmcvbWlzc2luZy50ZW1wbGF0ZS5odG1sJyxcbiAgICBzY29wZToge30sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZSl7XG4gICAgICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgICAgICBzY29wZS53aXNobGlzdCA9IFVzZXIuZ2V0V2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVzZXIuZ2V0V2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBzY29wZS53aXNobGlzdCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgaWYobmV3VmFsdWUgPT09IG51bGwpICBzY29wZS53aXNobGlzdFN0YXR1cyA9IFwiV2lzaGxpc3QgZGVsZXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoc2NvcGUud2lzaGxpc3QgPT09IG51bGwpICB7XG4gICAgICAgICAgc2NvcGUud2lzaGxpc3RTdGF0dXMgPSBcIldpc2hsaXN0IG5vdCBmb3VuZFwiO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgnd2lzaGxpc3ROYW1lJywgZnVuY3Rpb24oV2lzaGxpc3QsIFVzZXIsICRzdGF0ZSwgaGVscGVycyl7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGVVcmw6ICdhcHAvV2lzaGxpc3QvbmFtZS93aXNobGlzdE5hbWUuaHRtbCcsXG4gICAgc2NvcGU6IHt9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSl7XG5cbiAgICAgIFVzZXIuaXNJbml0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS53aXNobGlzdCA9IFVzZXIuZ2V0V2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBVc2VyLmdldFdpc2hsaXN0KCRzdGF0ZS5wYXJhbXMuaWQpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgJHNjb3BlLndpc2hsaXN0ID0gbmV3VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS51cGRhdGVXaXNobGlzdCA9IGZ1bmN0aW9uKHdpc2hsaXN0KXtcbiAgICAgICAgaGVscGVycy5jbGVhclR5cGV3YXRjaFRpbWVyKCk7XG4gICAgICAgIFVzZXIudXBkYXRlV2lzaGxpc3Qod2lzaGxpc3QpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnR5cGV3YXRjaCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGhlbHBlcnMudHlwZXdhdGNoKCRzY29wZS53aXNobGlzdC5uYW1lLCBmdW5jdGlvbigpe1xuICAgICAgICAgIGlmKCEkc2NvcGUud2lzaGxpc3QubmFtZSkgcmV0dXJuO1xuICAgICAgICAgIFVzZXIudXBkYXRlV2lzaGxpc3QoJHNjb3BlLndpc2hsaXN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xuICAgICAgZWxlbWVudC5vbignc3VibWl0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmJsdXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ3N1YmhlYWRlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXIsIFdpc2hsaXN0LCAkc3RhdGUsICR0aW1lb3V0LCAkcm9vdFNjb3BlKXtcblxuICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT0gJ3dpc2hsaXN0Jykge1xuICAgICAgJHJvb3RTY29wZS5zaG93U3ViaGVhZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5kZWxldGVXaXNobGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgIFVzZXIuZGVsZXRlV2lzaGxpc3QoJHN0YXRlLnBhcmFtcy5pZCk7XG4gICAgV2lzaGxpc3QuZGVsZXRlV2lzaGxpc3Qoe19pZDogJHN0YXRlLnBhcmFtcy5pZH0pO1xuICB9O1xuXG5cbn0pO1xuIiwiYXBwLmRpcmVjdGl2ZSgnc3ViSGVhZGVyJywgZnVuY3Rpb24oJHRpbWVvdXQsICRzdGF0ZSwgJHJvb3RTY29wZSwgVXNlcil7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGVVcmw6ICdhcHAvV2lzaGxpc3Qvc3ViSGVhZGVyL3N1YmhlYWRlci50ZW1wbGF0ZS5odG1sJyxcbiAgICBzY29wZToge30sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpe1xuXG4gICAgICB2YXIgc2hvd1N1YkhlYWRlck9uU3RhdGVzID0gWyd3aXNobGlzdCddO1xuXG4gICAgICBVc2VyLmlzSW5pdChmdW5jdGlvbigpe1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0KSB7XG4gICAgICAgICAgICBzaG93U3ViZWhlYWRlck9yTm90KCRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzaG93U3ViZWhlYWRlck9yTm90KCRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNob3dTdWJlaGVhZGVyT3JOb3Qoc3RhdGUpe1xuICAgICAgICAgIGlmKHNob3dTdWJIZWFkZXJPblN0YXRlcy5pbmRleE9mKHN0YXRlKSA+IC0xKXtcbiAgICAgICAgICAgIHNjb3BlLnNob3dTdWJoZWFkZXIgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY29wZS5zaG93U3ViaGVhZGVyID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUud2lzaGxpc3QgPSBVc2VyLmdldFdpc2hsaXN0KCRzdGF0ZS5wYXJhbXMuaWQpO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBVc2VyLmdldFdpc2hsaXN0KCRzdGF0ZS5wYXJhbXMuaWQpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUud2lzaGxpc3QgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIGlmKG5ld1ZhbHVlID09PSBudWxsKSAgc2NvcGUuc2hvd1N1YmhlYWRlciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoc2NvcGUud2lzaGxpc3QgPT09IG51bGwpICB7XG4gICAgICAgICAgc2NvcGUuc2hvd1N1YmhlYWRlciA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS5kZWxldGVXaXNobGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBVc2VyLmRlbGV0ZVdpc2hsaXN0KCRzdGF0ZS5wYXJhbXMuaWQpO1xuICAgICAgICBXaXNobGlzdC5kZWxldGVXaXNobGlzdCh7X2lkOiAkc3RhdGUucGFyYW1zLmlkfSk7XG4gICAgICB9O1xuXG4gICAgfSxcbiAgfTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
